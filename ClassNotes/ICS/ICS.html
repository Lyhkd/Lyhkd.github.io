
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="「该如何提醒未来那个健忘的人」">
      
      
        <meta name="author" content="Yule">
      
      
        <link rel="canonical" href="https://lyhkd.github.io/ClassNotes/ICS/ICS.html">
      
      
        <link rel="prev" href="../../index.html">
      
      
        <link rel="next" href="../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html">
      
      
      <link rel="icon" href="../../assets/logo.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.14">
    
    
      
        <title>汇总 - Yule's Notebooks</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.fad675c6.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/style.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#introduction_to_computing_systems" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../index.html" title="Yule&#39;s Notebooks" class="md-header__button md-logo" aria-label="Yule's Notebooks" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Yule's Notebooks
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              汇总
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/Lyhkd/Lyhkd.github.io" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Lyhkd/Notebooks
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html" class="md-tabs__link">
        
  
    
  
  主页

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="ICS.html" class="md-tabs__link">
          
  
    
  
  课程笔记

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../%E5%B0%8F%E7%8E%A9%E6%84%8F/%E6%96%87%E7%AB%A0%E7%BE%8E%E5%8C%96.html" class="md-tabs__link">
          
  
    
  
  小玩意

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../index.html" title="Yule&#39;s Notebooks" class="md-nav__button md-logo" aria-label="Yule's Notebooks" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    Yule's Notebooks
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Lyhkd/Lyhkd.github.io" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Lyhkd/Notebooks
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    主页
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    课程笔记
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            课程笔记
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" checked>
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    计算机系统概论✔️
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            计算机系统概论✔️
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    汇总
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="ICS.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    汇总
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      资料
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chapter_1_welcome_aboard" class="md-nav__link">
    <span class="md-ellipsis">
      Chapter 1 Welcome Aboard
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Chapter 1 Welcome Aboard">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#13_two_recurring_themes" class="md-nav__link">
    <span class="md-ellipsis">
      1.3 Two Recurring Themes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.3 Two Recurring Themes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#abstraction" class="md-nav__link">
    <span class="md-ellipsis">
      Abstraction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hardware_vs_software" class="md-nav__link">
    <span class="md-ellipsis">
      Hardware vs. Software
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14_a_computer_system" class="md-nav__link">
    <span class="md-ellipsis">
      1.4 A  Computer System
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15_two_very_important_ideas" class="md-nav__link">
    <span class="md-ellipsis">
      1.5 Two Very Important Ideas
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.5 Two Very Important Ideas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a" class="md-nav__link">
    <span class="md-ellipsis">
      a.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b" class="md-nav__link">
    <span class="md-ellipsis">
      b.
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16_computers_as_universal_computational_devices" class="md-nav__link">
    <span class="md-ellipsis">
      1.6 Computers as Universal Computational Devices
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#17_how_do_we_get_the_electrons_to_do_the_work" class="md-nav__link">
    <span class="md-ellipsis">
      1.7 How Do We Get the Electrons to Do the Work?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.7 How Do We Get the Electrons to Do the Work?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#transformation_hierarchy" class="md-nav__link">
    <span class="md-ellipsis">
      Transformation Hierarchy
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chapter_2_bits_and_data_types" class="md-nav__link">
    <span class="md-ellipsis">
      Chapter 2 Bits and Data Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Chapter 2 Bits and Data Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21_bits_and_data_types" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Bits and Data Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22_integer_data_type" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Integer Data Type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24_conversion_between_binary_and_decimal" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 Conversion Between Binary and Decimal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25_operations_on_bits_--_part_i_arithmetic" class="md-nav__link">
    <span class="md-ellipsis">
      2.5 Operations on Bits -- Part I: Arithmetic
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#26_operations_on_bits_--_part_ii_logical_operations" class="md-nav__link">
    <span class="md-ellipsis">
      2.6 Operations on Bits -- Part II: Logical Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#27_other_representations" class="md-nav__link">
    <span class="md-ellipsis">
      2.7 Other Representations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.7 Other Representations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#floating_point_data_type" class="md-nav__link">
    <span class="md-ellipsis">
      Floating Point Data Type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ascii_codes" class="md-nav__link">
    <span class="md-ellipsis">
      ASCII Codes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hexadecimal_notation_easy_to_remember_copy" class="md-nav__link">
    <span class="md-ellipsis">
      Hexadecimal Notation (easy to remember, copy)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chapter_3_digital_logic_structures" class="md-nav__link">
    <span class="md-ellipsis">
      Chapter 3 Digital Logic Structures
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Chapter 3 Digital Logic Structures">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31_the_transistor" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 The Transistor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32_logic_gates" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 Logic Gates
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.2 Logic Gates">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the_not_gateinverter" class="md-nav__link">
    <span class="md-ellipsis">
      The NOT Gate(Inverter)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the_nor_gates" class="md-nav__link">
    <span class="md-ellipsis">
      The NOR Gates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the_or_gates" class="md-nav__link">
    <span class="md-ellipsis">
      The OR Gates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the_and_gates" class="md-nav__link">
    <span class="md-ellipsis">
      The AND Gates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#basic_logic_gates" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Logic Gates
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33_combinational_logic_gates" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 Combinational Logic Gates
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.3 Combinational Logic Gates">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#decoder" class="md-nav__link">
    <span class="md-ellipsis">
      Decoder
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mux_multiplexer" class="md-nav__link">
    <span class="md-ellipsis">
      MUX (multiplexer)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#a_one-bit_adder" class="md-nav__link">
    <span class="md-ellipsis">
      A One-Bit Adder
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the_programmable_logic_arraypla" class="md-nav__link">
    <span class="md-ellipsis">
      The Programmable Logic Array(PLA)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logical_completeness" class="md-nav__link">
    <span class="md-ellipsis">
      Logical Completeness
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34_basic_storage_elements" class="md-nav__link">
    <span class="md-ellipsis">
      3.4 Basic Storage Elements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35_the_concept_of_memory" class="md-nav__link">
    <span class="md-ellipsis">
      3.5 The Concept of Memory
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.5 The Concept of Memory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#address" class="md-nav__link">
    <span class="md-ellipsis">
      address
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addressability" class="md-nav__link">
    <span class="md-ellipsis">
      addressability
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#address_space" class="md-nav__link">
    <span class="md-ellipsis">
      Address Space
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#a_22-by-3-bit_memory" class="md-nav__link">
    <span class="md-ellipsis">
      A 2^2-by-3-Bit Memory
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#36_sequential_logic_circuits" class="md-nav__link">
    <span class="md-ellipsis">
      3.6 Sequential Logic Circuits
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.6 Sequential Logic Circuits">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#361_combination_lock" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.1 Combination Lock
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#362_the_concept_of_state" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.2 The Concept of State
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#363_the_finite_state_machinefsm_and_its_state_diagram" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.3 The Finite State Machine(FSM) and its State Diagram
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.6.3 The Finite State Machine(FSM) and its State Diagram">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#elements" class="md-nav__link">
    <span class="md-ellipsis">
      Elements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#combination_lock" class="md-nav__link">
    <span class="md-ellipsis">
      Combination Lock
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#364_the_synchronous_final_state_machine" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.4 The Synchronous Final State Machine
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#365_the_clock" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.5 The Clock
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.6.5 The Clock">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clock_cycle" class="md-nav__link">
    <span class="md-ellipsis">
      Clock Cycle
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#366_the_traffic_controller_example" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.6 The Traffic Controller Example
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.6.6 The Traffic Controller Example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the_sequential_logic_circuit" class="md-nav__link">
    <span class="md-ellipsis">
      The Sequential Logic Circuit
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Sequential Logic Circuit">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#combinational_logic" class="md-nav__link">
    <span class="md-ellipsis">
      Combinational Logic
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the_problem_with_gated_latches" class="md-nav__link">
    <span class="md-ellipsis">
      The Problem with Gated Latches
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#master-slave_flip-flop" class="md-nav__link">
    <span class="md-ellipsis">
      Master-slave flip-flop （主从锁存器）
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#37_the_data_path_of_lc-3" class="md-nav__link">
    <span class="md-ellipsis">
      3.7 The Data Path of LC-3
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.7 The Data Path of LC-3">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#register" class="md-nav__link">
    <span class="md-ellipsis">
      Register
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chapter_4_the_von_neumann_model" class="md-nav__link">
    <span class="md-ellipsis">
      Chapter 4 The von Neumann Model
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Chapter 4 The von Neumann Model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41_basic_components" class="md-nav__link">
    <span class="md-ellipsis">
      4.1 Basic Components
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.1 Basic Components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#input_and_output" class="md-nav__link">
    <span class="md-ellipsis">
      Input and Output
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memory" class="md-nav__link">
    <span class="md-ellipsis">
      Memory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#computation_unit_processing_unit" class="md-nav__link">
    <span class="md-ellipsis">
      Computation Unit / Processing Unit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#control_unit" class="md-nav__link">
    <span class="md-ellipsis">
      Control Unit
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42_the_lc-3" class="md-nav__link">
    <span class="md-ellipsis">
      4.2 The LC-3
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43_instruction_processing" class="md-nav__link">
    <span class="md-ellipsis">
      4.3 Instruction Processing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.3 Instruction Processing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#431_the_instruction" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.1 The instruction
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.3.1 The instruction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the_addand_instruction" class="md-nav__link">
    <span class="md-ellipsis">
      The ADD/AND Instruction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the_ld_instruction" class="md-nav__link">
    <span class="md-ellipsis">
      The LD Instruction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#432_the_instruction_cycle" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.2 The Instruction Cycle
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.3.2 The Instruction Cycle">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#4321_fetch" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.2.1 Fetch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4322_decode" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.2.2 Decode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4323_evaluate_address" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.2.3 Evaluate Address
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4324_fetch_operands" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.2.4 Fetch Operands
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4325_execute" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.2.5 Execute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4326_store_result" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.2.6 Store Result
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      一些特例（不一定需要所有阶段）
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#433_change_the_sequence_of_execution" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.3 Change the Sequence of Execution
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.3.3 Change the Sequence of Execution">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the_br_instruction" class="md-nav__link">
    <span class="md-ellipsis">
      The BR Instruction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#434_control_of_the_instruction_cycle" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.4 Control of the Instruction Cycle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#435_halting_the_computerthe_trap_instruction" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.5 Halting the Computer(the Trap instruction)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.3.5 Halting the Computer(the Trap instruction)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#run_latch" class="md-nav__link">
    <span class="md-ellipsis">
      RUN latch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trap_instruction" class="md-nav__link">
    <span class="md-ellipsis">
      TRAP Instruction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chapter_5_the_lc-3" class="md-nav__link">
    <span class="md-ellipsis">
      Chapter 5 The LC-3
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Chapter 5 The LC-3">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51_the_isa_overview" class="md-nav__link">
    <span class="md-ellipsis">
      5.1 The ISA Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.1 The ISA Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#511_memory_organization" class="md-nav__link">
    <span class="md-ellipsis">
      5.1.1 Memory Organization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#512_register" class="md-nav__link">
    <span class="md-ellipsis">
      5.1.2 Register
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#513_instruction_set" class="md-nav__link">
    <span class="md-ellipsis">
      5.1.3 Instruction Set
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#514_opcodes" class="md-nav__link">
    <span class="md-ellipsis">
      5.1.4 Opcodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#515_data_types" class="md-nav__link">
    <span class="md-ellipsis">
      5.1.5 Data Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#516_addressing_mode" class="md-nav__link">
    <span class="md-ellipsis">
      5.1.6 Addressing Mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#517_condition_codescc" class="md-nav__link">
    <span class="md-ellipsis">
      5.1.7 Condition Codes(CC)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52_operate_instructions_not_and_add" class="md-nav__link">
    <span class="md-ellipsis">
      5.2 Operate Instructions (NOT, AND, ADD)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.2 Operate Instructions (NOT, AND, ADD)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#not" class="md-nav__link">
    <span class="md-ellipsis">
      NOT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add_and" class="md-nav__link">
    <span class="md-ellipsis">
      ADD / AND
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#immediates_example" class="md-nav__link">
    <span class="md-ellipsis">
      Immediates Example
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Immediates Example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#applications" class="md-nav__link">
    <span class="md-ellipsis">
      Applications
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the_lea_instructionload_effective_address" class="md-nav__link">
    <span class="md-ellipsis">
      The LEA instruction(Load Effective Address)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53_data_movement_instructions" class="md-nav__link">
    <span class="md-ellipsis">
      5.3 Data Movement Instructions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.3 Data Movement Instructions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#531_pc-relative_mode" class="md-nav__link">
    <span class="md-ellipsis">
      5.3.1 PC-Relative Mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#532_indirect_mode" class="md-nav__link">
    <span class="md-ellipsis">
      5.3.2 Indirect Mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#533_baseoffset_mode" class="md-nav__link">
    <span class="md-ellipsis">
      5.3.3 Base+offset Mode
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54_control_instructions" class="md-nav__link">
    <span class="md-ellipsis">
      5.4 Control Instructions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.4 Control Instructions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#541_conditional_branches" class="md-nav__link">
    <span class="md-ellipsis">
      5.4.1 Conditional Branches
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.4.1 Conditional Branches">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bropcode_0000" class="md-nav__link">
    <span class="md-ellipsis">
      BR(opcode = 0000)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jmpopcode_1100" class="md-nav__link">
    <span class="md-ellipsis">
      JMP(opcode = 1100)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trapopcode_1111" class="md-nav__link">
    <span class="md-ellipsis">
      TRAP(opcode = 1111)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#two_method_of_loop_control" class="md-nav__link">
    <span class="md-ellipsis">
      Two Method of Loop Control
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#56_the_data_path_revisited" class="md-nav__link">
    <span class="md-ellipsis">
      5.6 The Data Path Revisited
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.6 The Data Path Revisited">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#561_basic_component" class="md-nav__link">
    <span class="md-ellipsis">
      5.6.1 Basic Component
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.6.1 Basic Component">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the_global_bus" class="md-nav__link">
    <span class="md-ellipsis">
      The Global Bus
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chapter_6_programming" class="md-nav__link">
    <span class="md-ellipsis">
      Chapter 6 Programming
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Chapter 6 Programming">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#code_for_conditional" class="md-nav__link">
    <span class="md-ellipsis">
      Code for Conditional
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#code_for_iteration" class="md-nav__link">
    <span class="md-ellipsis">
      Code for Iteration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chapter_7_assembly_language" class="md-nav__link">
    <span class="md-ellipsis">
      Chapter 7 Assembly Language
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Chapter 7 Assembly Language">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71_assembly_language_programmingmoving_up_a_level" class="md-nav__link">
    <span class="md-ellipsis">
      7.1 Assembly Language Programming—Moving Up a Level
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72_an_assembly_language_program" class="md-nav__link">
    <span class="md-ellipsis">
      7.2 An Assembly Language Program
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.2 An Assembly Language Program">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#721_instructions" class="md-nav__link">
    <span class="md-ellipsis">
      7.2.1 Instructions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.2.1 Instructions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#7211_opcodes_and_operands" class="md-nav__link">
    <span class="md-ellipsis">
      7.2.1.1 Opcodes and Operands
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7212_label" class="md-nav__link">
    <span class="md-ellipsis">
      7.2.1.2 Label
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7213_comments" class="md-nav__link">
    <span class="md-ellipsis">
      7.2.1.3 Comments
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#722_psudo-opsassembler_directives" class="md-nav__link">
    <span class="md-ellipsis">
      7.2.2 Psudo-Ops(Assembler Directives)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.2.2 Psudo-Ops(Assembler Directives)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#7221_orig" class="md-nav__link">
    <span class="md-ellipsis">
      7.2.2.1 .ORIG
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7222_fill" class="md-nav__link">
    <span class="md-ellipsis">
      7.2.2.2 .FILL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7223_blkw" class="md-nav__link">
    <span class="md-ellipsis">
      7.2.2.3 .BLKW
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7224_stringz" class="md-nav__link">
    <span class="md-ellipsis">
      7.2.2.4 .STRINGZ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7225_end" class="md-nav__link">
    <span class="md-ellipsis">
      7.2.2.5 .END
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#73_the_assembly_process" class="md-nav__link">
    <span class="md-ellipsis">
      7.3 The Assembly Process
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.3 The Assembly Process">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#732_a_two-pass_process" class="md-nav__link">
    <span class="md-ellipsis">
      7.3.2 A Two-Pass Process
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#733_the_first_pass_creating_the_symbol_table" class="md-nav__link">
    <span class="md-ellipsis">
      7.3.3 The First Pass: Creating the Symbol Table
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#734_the_second_pass_generating_the_machine_language_program" class="md-nav__link">
    <span class="md-ellipsis">
      7.3.4 The Second Pass: Generating the Machine Language Program
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#74_beyond_the_assembly_of_a_single_assembly_language_program" class="md-nav__link">
    <span class="md-ellipsis">
      7.4 Beyond the Assembly of a Single Assembly Language Program
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.4 Beyond the Assembly of a Single Assembly Language Program">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#741_the_executable_image" class="md-nav__link">
    <span class="md-ellipsis">
      7.4.1 The Executable Image
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#742_more_than_one_object_file" class="md-nav__link">
    <span class="md-ellipsis">
      7.4.2 More than One Object File
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chapter_8_data_structures" class="md-nav__link">
    <span class="md-ellipsis">
      Chapter 8 Data Structures
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Chapter 8 Data Structures">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81_subroutinesfunctionsprocedures" class="md-nav__link">
    <span class="md-ellipsis">
      8.1 Subroutines(Functions)(Procedures)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.1 Subroutines(Functions)(Procedures)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#811_the_callreturn_mechanism" class="md-nav__link">
    <span class="md-ellipsis">
      8.1.1 The Call/Return Mechanism
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.1.1 The Call/Return Mechanism">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#812_jsrr" class="md-nav__link">
    <span class="md-ellipsis">
      8.1.2 JSR(R)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#813_saving_and_restoring_registers" class="md-nav__link">
    <span class="md-ellipsis">
      8.1.3 Saving and Restoring Registers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#814_library_routines" class="md-nav__link">
    <span class="md-ellipsis">
      8.1.4 Library Routines
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82_the_stack" class="md-nav__link">
    <span class="md-ellipsis">
      8.2 The Stack
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.2 The Stack">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#821_an_abstract_data_type" class="md-nav__link">
    <span class="md-ellipsis">
      8.2.1 An Abstract Data Type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementation_in_memory" class="md-nav__link">
    <span class="md-ellipsis">
      Implementation in Memory
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Implementation in Memory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#push" class="md-nav__link">
    <span class="md-ellipsis">
      Push
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pop" class="md-nav__link">
    <span class="md-ellipsis">
      Pop
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#underflow" class="md-nav__link">
    <span class="md-ellipsis">
      Underflow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#overflow" class="md-nav__link">
    <span class="md-ellipsis">
      Overflow
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#83_recursion" class="md-nav__link">
    <span class="md-ellipsis">
      8.3 Recursion
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.3 Recursion">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#831_bad_example_number_1_factorial" class="md-nav__link">
    <span class="md-ellipsis">
      8.3.1 Bad Example Number 1: Factorial
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#812_fibonaccian_even_worse_example" class="md-nav__link">
    <span class="md-ellipsis">
      8.1.2 Fibonacci(An Even Worse Example)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#813_a_mazegood_example" class="md-nav__link">
    <span class="md-ellipsis">
      8.1.3 A Maze(Good example)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#84_the_queue" class="md-nav__link">
    <span class="md-ellipsis">
      8.4 The Queue
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.4 The Queue">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#841_the_basic_operations_remove_from_front_insert_at_rear" class="md-nav__link">
    <span class="md-ellipsis">
      8.4.1 The Basic Operations: Remove from Front, Insert at Rear
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#842_wrap-around" class="md-nav__link">
    <span class="md-ellipsis">
      8.4.2 Wrap-Around
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.4.2 Wrap-Around">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#remove" class="md-nav__link">
    <span class="md-ellipsis">
      Remove
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#load" class="md-nav__link">
    <span class="md-ellipsis">
      Load
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#843_how_many_elements_can_we_store_in_a_queue" class="md-nav__link">
    <span class="md-ellipsis">
      8.4.3 How Many Elements Can We Store in a Queue?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#844_tests_for_underflow_overflow" class="md-nav__link">
    <span class="md-ellipsis">
      8.4.4 Tests for Underflow, Overflow
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85_character_strings" class="md-nav__link">
    <span class="md-ellipsis">
      8.5 Character Strings
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5 Character Strings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pointer" class="md-nav__link">
    <span class="md-ellipsis">
      Pointer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chapter_9_io" class="md-nav__link">
    <span class="md-ellipsis">
      Chapter 9 I/O
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Chapter 9 I/O">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#91_privilege_priority_and_the_memory_address_space" class="md-nav__link">
    <span class="md-ellipsis">
      9.1 Privilege, Priority, and the Memory Address Space
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.1 Privilege, Priority, and the Memory Address Space">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#911_privilege_and_priority" class="md-nav__link">
    <span class="md-ellipsis">
      9.1.1 Privilege and Priority
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.1.1 Privilege and Priority">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#9111_privilege" class="md-nav__link">
    <span class="md-ellipsis">
      9.1.1.1 Privilege
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9112_priority" class="md-nav__link">
    <span class="md-ellipsis">
      9.1.1.2 Priority
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9113_two_orthogonal_notions" class="md-nav__link">
    <span class="md-ellipsis">
      9.1.1.3 Two Orthogonal Notions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9114_the_processor_status_register_psr" class="md-nav__link">
    <span class="md-ellipsis">
      9.1.1.4 The Processor Status Register (PSR)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#912_organization_of_memory" class="md-nav__link">
    <span class="md-ellipsis">
      9.1.2 Organization of Memory
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.1.2 Organization of Memory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#system_space" class="md-nav__link">
    <span class="md-ellipsis">
      System Space
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user_space" class="md-nav__link">
    <span class="md-ellipsis">
      User Space
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#io_page" class="md-nav__link">
    <span class="md-ellipsis">
      I/O page
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#92_inputoutput" class="md-nav__link">
    <span class="md-ellipsis">
      9.2 Input/Output
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.2 Input/Output">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#921_some_basic_characteristics_of_io" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.1 Some Basic Characteristics of I/O
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.2.1 Some Basic Characteristics of I/O">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#9211_memory-mapped_io_vs_special_io_instructions" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.1.1 Memory-Mapped I/O vs. Special I/O Instructions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9212_asynchronous_vs_synchronous" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.1.2 Asynchronous vs. Synchronous
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9213_interrupt-driven_vs_polling" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.1.3 Interrupt-Driven vs. Polling
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#922_input_from_the_keyboard" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.2 Input from the Keyboard
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.2.2 Input from the Keyboard">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#9221_basic_input_registers_kbdr_and_kbsr" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.2.1 Basic Input Registers (KBDR and KBSR)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9222_the_basic_input_service_routine" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.2.2 The Basic Input Service Routine
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9223_implementation_of_memory-mapped_input" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.2.3 Implementation of Memory-Mapped Input
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#923_output_to_the_monitor" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.3 Output to the Monitor
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.2.3 Output to the Monitor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#9231_basic_output_registers_ddr_and_dsr" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.3.1 Basic Output Registers (DDR and DSR)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9232_the_basic_output_service_routine" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.3.2 The Basic Output Service Routine
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9233_implementation_of_memory-mapped_output" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.3.3 Implementation of Memory-Mapped Output
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9234_example_keyboard_echo" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.3.4 Example: Keyboard Echo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#924_a_more_sophisticated_input_routine" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.4 A More Sophisticated Input Routine
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#925_implementation_of_memory-mapped_io_revisited" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.5 Implementation of Memory-Mapped I/O, Revisited
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#93_operating_system_service_routines_lc-3_trap_routines" class="md-nav__link">
    <span class="md-ellipsis">
      9.3 Operating System Service Routines (LC-3 Trap Routines)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.3 Operating System Service Routines (LC-3 Trap Routines)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#931_introduction" class="md-nav__link">
    <span class="md-ellipsis">
      9.3.1 Introduction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#932_the_trap_mechanism" class="md-nav__link">
    <span class="md-ellipsis">
      9.3.2 The Trap Mechanism
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#933_the_trap_instruction" class="md-nav__link">
    <span class="md-ellipsis">
      9.3.3 The TRAP Instruction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#934_the_rti_instruction_to_return_control_to_the_calling_program" class="md-nav__link">
    <span class="md-ellipsis">
      9.3.4 The RTI Instruction: To Return Control to the Calling Program
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#935_a_summary_of_the_trap_service_routine_process" class="md-nav__link">
    <span class="md-ellipsis">
      9.3.5 A Summary of the Trap Service Routine Process
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#936_trap_routines_for_handling_io" class="md-nav__link">
    <span class="md-ellipsis">
      9.3.6 Trap Routines for Handling I/O
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#937_a_trap_routine_for_halting_the_computer" class="md-nav__link">
    <span class="md-ellipsis">
      9.3.7 A Trap Routine for Halting the Computer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#938_the_trap_routine_for_character_input_one_last_time" class="md-nav__link">
    <span class="md-ellipsis">
      9.3.8 The Trap Routine for Character Input (One Last Time)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#939_puts_writing_a_character_string_to_the_monitor" class="md-nav__link">
    <span class="md-ellipsis">
      9.3.9 PUTS: Writing a Character String to the Monitor
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#94_interrupts_and_interrupt-_driven_io" class="md-nav__link">
    <span class="md-ellipsis">
      9.4 Interrupts and Interrupt- Driven I/O
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.4 Interrupts and Interrupt- Driven I/O">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#942_why_have_interrupt-driven_io" class="md-nav__link">
    <span class="md-ellipsis">
      9.4.2 Why Have Interrupt-Driven I/O?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#943_two_parts_to_the_process" class="md-nav__link">
    <span class="md-ellipsis">
      9.4.3 Two Parts to the Process
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#944_part_i_causing_the_interrupt_to_occur" class="md-nav__link">
    <span class="md-ellipsis">
      9.4.4 Part I: Causing the Interrupt to Occur
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.4.4 Part I: Causing the Interrupt to Occur">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#9441_the_interrupt_signal_from_the_device" class="md-nav__link">
    <span class="md-ellipsis">
      9.4.4.1 The Interrupt Signal from the Device
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9442_the_urgency_of_the_request" class="md-nav__link">
    <span class="md-ellipsis">
      9.4.4.2 The Urgency of the Request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9443_the_int_signal" class="md-nav__link">
    <span class="md-ellipsis">
      9.4.4.3 The INT Signal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9444_the_test_for_int" class="md-nav__link">
    <span class="md-ellipsis">
      9.4.4.4 The Test for INT
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#945_part_ii_handling_the_interrupt_request" class="md-nav__link">
    <span class="md-ellipsis">
      9.4.5 Part II: Handling the Interrupt Request
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.4.5 Part II: Handling the Interrupt Request">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#9451_initiate_the_interrupt" class="md-nav__link">
    <span class="md-ellipsis">
      9.4.5.1 Initiate the Interrupt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9452_service_the_interrupt" class="md-nav__link">
    <span class="md-ellipsis">
      9.4.5.2 Service the Interrupt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9453_return_from_the_interrupt" class="md-nav__link">
    <span class="md-ellipsis">
      9.4.5.3 Return from the Interrupt
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#946_an_example" class="md-nav__link">
    <span class="md-ellipsis">
      9.4.6 An Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#947_not_just_io_devices" class="md-nav__link">
    <span class="md-ellipsis">
      9.4.7 Not Just I/O Devices
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#95_polling_revisited_now_that_we_know_about_interrupts" class="md-nav__link">
    <span class="md-ellipsis">
      9.5 Polling Revisited, Now That We Know About Interrupts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.5 Polling Revisited, Now That We Know About Interrupts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#951_the_problem" class="md-nav__link">
    <span class="md-ellipsis">
      9.5.1 The Problem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#952_the_solution" class="md-nav__link">
    <span class="md-ellipsis">
      9.5.2 The Solution
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chapter_10_a_calculator" class="md-nav__link">
    <span class="md-ellipsis">
      Chapter 10 A Calculator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Chapter 10 A Calculator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#101_data_type_conversion" class="md-nav__link">
    <span class="md-ellipsis">
      10.1 Data Type Conversion
    </span>
  </a>
  
    <nav class="md-nav" aria-label="10.1 Data Type Conversion">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1011_example_a_bogus_program_2_3_e" class="md-nav__link">
    <span class="md-ellipsis">
      10.1.1 Example: A Bogus Program: 2 + 3 = e
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1012_input_data_ascii_to_binary" class="md-nav__link">
    <span class="md-ellipsis">
      10.1.2 Input Data (ASCII to Binary)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1013_display_result_binary_to_ascii" class="md-nav__link">
    <span class="md-ellipsis">
      10.1.3 Display Result (Binary to ASCII)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#102_arithmetic_using_a_stack" class="md-nav__link">
    <span class="md-ellipsis">
      10.2 Arithmetic Using a Stack
    </span>
  </a>
  
    <nav class="md-nav" aria-label="10.2 Arithmetic Using a Stack">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1021_the_stack_as_temporary_storage" class="md-nav__link">
    <span class="md-ellipsis">
      10.2.1 The Stack as Temporary Storage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1022_an_example" class="md-nav__link">
    <span class="md-ellipsis">
      10.2.2 An Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1023_opadd_opmult_and_opneg" class="md-nav__link">
    <span class="md-ellipsis">
      10.2.3 OpAdd, OpMult, and OpNeg
    </span>
  </a>
  
    <nav class="md-nav" aria-label="10.2.3 OpAdd, OpMult, and OpNeg">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the_opadd_subroutine" class="md-nav__link">
    <span class="md-ellipsis">
      The OpAdd Subroutine
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the_opmult_subroutine" class="md-nav__link">
    <span class="md-ellipsis">
      The OpMult Subroutine
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the_opneg_subroutine" class="md-nav__link">
    <span class="md-ellipsis">
      The OpNeg Subroutine
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#103_the_calculator" class="md-nav__link">
    <span class="md-ellipsis">
      10.3 The Calculator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="10.3 The Calculator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1031_functionality" class="md-nav__link">
    <span class="md-ellipsis">
      10.3.1 Functionality
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chapter_19_dynamic_data_structures_in_c" class="md-nav__link">
    <span class="md-ellipsis">
      Chapter 19 Dynamic Data Structures in C
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Chapter 19 Dynamic Data Structures in C">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#195_linked_lists" class="md-nav__link">
    <span class="md-ellipsis">
      19.5 Linked Lists
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    数据结构
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            数据结构
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    前几章
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../HW%20summary.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    测试
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../verilog.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数字逻辑设计
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    大物实验
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            大物实验
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%A4%A7%E5%AD%A6%E7%89%A9%E7%90%86%E5%AE%9E%E9%AA%8C%E7%BB%AA%E8%AE%BA.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    绪论
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    宏观经济学
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            宏观经济学
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../macroeconomics/%E5%AF%BC%E8%AE%BA.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    导论
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../macroeconomics/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%9A%84%E5%AE%8F%E7%BB%8F%E7%AC%94%E8%AE%B0.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IS-LM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../macroeconomics/%E5%AE%8F%E7%BB%8F%E7%9A%84%E4%B8%80%E4%BA%9B%E5%B0%8F%E6%84%9F%E6%82%9F.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    随笔
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    小玩意
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            小玩意
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Mkdocs搭建
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            Mkdocs搭建
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E5%B0%8F%E7%8E%A9%E6%84%8F/%E6%96%87%E7%AB%A0%E7%BE%8E%E5%8C%96.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    文章美化
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      资料
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chapter_1_welcome_aboard" class="md-nav__link">
    <span class="md-ellipsis">
      Chapter 1 Welcome Aboard
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Chapter 1 Welcome Aboard">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#13_two_recurring_themes" class="md-nav__link">
    <span class="md-ellipsis">
      1.3 Two Recurring Themes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.3 Two Recurring Themes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#abstraction" class="md-nav__link">
    <span class="md-ellipsis">
      Abstraction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hardware_vs_software" class="md-nav__link">
    <span class="md-ellipsis">
      Hardware vs. Software
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14_a_computer_system" class="md-nav__link">
    <span class="md-ellipsis">
      1.4 A  Computer System
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15_two_very_important_ideas" class="md-nav__link">
    <span class="md-ellipsis">
      1.5 Two Very Important Ideas
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.5 Two Very Important Ideas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a" class="md-nav__link">
    <span class="md-ellipsis">
      a.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b" class="md-nav__link">
    <span class="md-ellipsis">
      b.
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16_computers_as_universal_computational_devices" class="md-nav__link">
    <span class="md-ellipsis">
      1.6 Computers as Universal Computational Devices
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#17_how_do_we_get_the_electrons_to_do_the_work" class="md-nav__link">
    <span class="md-ellipsis">
      1.7 How Do We Get the Electrons to Do the Work?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.7 How Do We Get the Electrons to Do the Work?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#transformation_hierarchy" class="md-nav__link">
    <span class="md-ellipsis">
      Transformation Hierarchy
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chapter_2_bits_and_data_types" class="md-nav__link">
    <span class="md-ellipsis">
      Chapter 2 Bits and Data Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Chapter 2 Bits and Data Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21_bits_and_data_types" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Bits and Data Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22_integer_data_type" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Integer Data Type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24_conversion_between_binary_and_decimal" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 Conversion Between Binary and Decimal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25_operations_on_bits_--_part_i_arithmetic" class="md-nav__link">
    <span class="md-ellipsis">
      2.5 Operations on Bits -- Part I: Arithmetic
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#26_operations_on_bits_--_part_ii_logical_operations" class="md-nav__link">
    <span class="md-ellipsis">
      2.6 Operations on Bits -- Part II: Logical Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#27_other_representations" class="md-nav__link">
    <span class="md-ellipsis">
      2.7 Other Representations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.7 Other Representations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#floating_point_data_type" class="md-nav__link">
    <span class="md-ellipsis">
      Floating Point Data Type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ascii_codes" class="md-nav__link">
    <span class="md-ellipsis">
      ASCII Codes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hexadecimal_notation_easy_to_remember_copy" class="md-nav__link">
    <span class="md-ellipsis">
      Hexadecimal Notation (easy to remember, copy)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chapter_3_digital_logic_structures" class="md-nav__link">
    <span class="md-ellipsis">
      Chapter 3 Digital Logic Structures
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Chapter 3 Digital Logic Structures">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31_the_transistor" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 The Transistor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32_logic_gates" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 Logic Gates
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.2 Logic Gates">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the_not_gateinverter" class="md-nav__link">
    <span class="md-ellipsis">
      The NOT Gate(Inverter)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the_nor_gates" class="md-nav__link">
    <span class="md-ellipsis">
      The NOR Gates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the_or_gates" class="md-nav__link">
    <span class="md-ellipsis">
      The OR Gates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the_and_gates" class="md-nav__link">
    <span class="md-ellipsis">
      The AND Gates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#basic_logic_gates" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Logic Gates
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33_combinational_logic_gates" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 Combinational Logic Gates
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.3 Combinational Logic Gates">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#decoder" class="md-nav__link">
    <span class="md-ellipsis">
      Decoder
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mux_multiplexer" class="md-nav__link">
    <span class="md-ellipsis">
      MUX (multiplexer)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#a_one-bit_adder" class="md-nav__link">
    <span class="md-ellipsis">
      A One-Bit Adder
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the_programmable_logic_arraypla" class="md-nav__link">
    <span class="md-ellipsis">
      The Programmable Logic Array(PLA)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logical_completeness" class="md-nav__link">
    <span class="md-ellipsis">
      Logical Completeness
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34_basic_storage_elements" class="md-nav__link">
    <span class="md-ellipsis">
      3.4 Basic Storage Elements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35_the_concept_of_memory" class="md-nav__link">
    <span class="md-ellipsis">
      3.5 The Concept of Memory
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.5 The Concept of Memory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#address" class="md-nav__link">
    <span class="md-ellipsis">
      address
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addressability" class="md-nav__link">
    <span class="md-ellipsis">
      addressability
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#address_space" class="md-nav__link">
    <span class="md-ellipsis">
      Address Space
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#a_22-by-3-bit_memory" class="md-nav__link">
    <span class="md-ellipsis">
      A 2^2-by-3-Bit Memory
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#36_sequential_logic_circuits" class="md-nav__link">
    <span class="md-ellipsis">
      3.6 Sequential Logic Circuits
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.6 Sequential Logic Circuits">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#361_combination_lock" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.1 Combination Lock
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#362_the_concept_of_state" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.2 The Concept of State
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#363_the_finite_state_machinefsm_and_its_state_diagram" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.3 The Finite State Machine(FSM) and its State Diagram
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.6.3 The Finite State Machine(FSM) and its State Diagram">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#elements" class="md-nav__link">
    <span class="md-ellipsis">
      Elements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#combination_lock" class="md-nav__link">
    <span class="md-ellipsis">
      Combination Lock
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#364_the_synchronous_final_state_machine" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.4 The Synchronous Final State Machine
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#365_the_clock" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.5 The Clock
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.6.5 The Clock">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clock_cycle" class="md-nav__link">
    <span class="md-ellipsis">
      Clock Cycle
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#366_the_traffic_controller_example" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.6 The Traffic Controller Example
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.6.6 The Traffic Controller Example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the_sequential_logic_circuit" class="md-nav__link">
    <span class="md-ellipsis">
      The Sequential Logic Circuit
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Sequential Logic Circuit">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#combinational_logic" class="md-nav__link">
    <span class="md-ellipsis">
      Combinational Logic
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the_problem_with_gated_latches" class="md-nav__link">
    <span class="md-ellipsis">
      The Problem with Gated Latches
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#master-slave_flip-flop" class="md-nav__link">
    <span class="md-ellipsis">
      Master-slave flip-flop （主从锁存器）
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#37_the_data_path_of_lc-3" class="md-nav__link">
    <span class="md-ellipsis">
      3.7 The Data Path of LC-3
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.7 The Data Path of LC-3">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#register" class="md-nav__link">
    <span class="md-ellipsis">
      Register
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chapter_4_the_von_neumann_model" class="md-nav__link">
    <span class="md-ellipsis">
      Chapter 4 The von Neumann Model
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Chapter 4 The von Neumann Model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41_basic_components" class="md-nav__link">
    <span class="md-ellipsis">
      4.1 Basic Components
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.1 Basic Components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#input_and_output" class="md-nav__link">
    <span class="md-ellipsis">
      Input and Output
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memory" class="md-nav__link">
    <span class="md-ellipsis">
      Memory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#computation_unit_processing_unit" class="md-nav__link">
    <span class="md-ellipsis">
      Computation Unit / Processing Unit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#control_unit" class="md-nav__link">
    <span class="md-ellipsis">
      Control Unit
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42_the_lc-3" class="md-nav__link">
    <span class="md-ellipsis">
      4.2 The LC-3
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43_instruction_processing" class="md-nav__link">
    <span class="md-ellipsis">
      4.3 Instruction Processing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.3 Instruction Processing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#431_the_instruction" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.1 The instruction
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.3.1 The instruction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the_addand_instruction" class="md-nav__link">
    <span class="md-ellipsis">
      The ADD/AND Instruction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the_ld_instruction" class="md-nav__link">
    <span class="md-ellipsis">
      The LD Instruction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#432_the_instruction_cycle" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.2 The Instruction Cycle
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.3.2 The Instruction Cycle">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#4321_fetch" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.2.1 Fetch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4322_decode" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.2.2 Decode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4323_evaluate_address" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.2.3 Evaluate Address
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4324_fetch_operands" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.2.4 Fetch Operands
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4325_execute" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.2.5 Execute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4326_store_result" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.2.6 Store Result
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      一些特例（不一定需要所有阶段）
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#433_change_the_sequence_of_execution" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.3 Change the Sequence of Execution
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.3.3 Change the Sequence of Execution">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the_br_instruction" class="md-nav__link">
    <span class="md-ellipsis">
      The BR Instruction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#434_control_of_the_instruction_cycle" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.4 Control of the Instruction Cycle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#435_halting_the_computerthe_trap_instruction" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.5 Halting the Computer(the Trap instruction)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.3.5 Halting the Computer(the Trap instruction)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#run_latch" class="md-nav__link">
    <span class="md-ellipsis">
      RUN latch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trap_instruction" class="md-nav__link">
    <span class="md-ellipsis">
      TRAP Instruction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chapter_5_the_lc-3" class="md-nav__link">
    <span class="md-ellipsis">
      Chapter 5 The LC-3
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Chapter 5 The LC-3">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51_the_isa_overview" class="md-nav__link">
    <span class="md-ellipsis">
      5.1 The ISA Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.1 The ISA Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#511_memory_organization" class="md-nav__link">
    <span class="md-ellipsis">
      5.1.1 Memory Organization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#512_register" class="md-nav__link">
    <span class="md-ellipsis">
      5.1.2 Register
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#513_instruction_set" class="md-nav__link">
    <span class="md-ellipsis">
      5.1.3 Instruction Set
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#514_opcodes" class="md-nav__link">
    <span class="md-ellipsis">
      5.1.4 Opcodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#515_data_types" class="md-nav__link">
    <span class="md-ellipsis">
      5.1.5 Data Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#516_addressing_mode" class="md-nav__link">
    <span class="md-ellipsis">
      5.1.6 Addressing Mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#517_condition_codescc" class="md-nav__link">
    <span class="md-ellipsis">
      5.1.7 Condition Codes(CC)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52_operate_instructions_not_and_add" class="md-nav__link">
    <span class="md-ellipsis">
      5.2 Operate Instructions (NOT, AND, ADD)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.2 Operate Instructions (NOT, AND, ADD)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#not" class="md-nav__link">
    <span class="md-ellipsis">
      NOT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add_and" class="md-nav__link">
    <span class="md-ellipsis">
      ADD / AND
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#immediates_example" class="md-nav__link">
    <span class="md-ellipsis">
      Immediates Example
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Immediates Example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#applications" class="md-nav__link">
    <span class="md-ellipsis">
      Applications
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the_lea_instructionload_effective_address" class="md-nav__link">
    <span class="md-ellipsis">
      The LEA instruction(Load Effective Address)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53_data_movement_instructions" class="md-nav__link">
    <span class="md-ellipsis">
      5.3 Data Movement Instructions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.3 Data Movement Instructions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#531_pc-relative_mode" class="md-nav__link">
    <span class="md-ellipsis">
      5.3.1 PC-Relative Mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#532_indirect_mode" class="md-nav__link">
    <span class="md-ellipsis">
      5.3.2 Indirect Mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#533_baseoffset_mode" class="md-nav__link">
    <span class="md-ellipsis">
      5.3.3 Base+offset Mode
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54_control_instructions" class="md-nav__link">
    <span class="md-ellipsis">
      5.4 Control Instructions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.4 Control Instructions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#541_conditional_branches" class="md-nav__link">
    <span class="md-ellipsis">
      5.4.1 Conditional Branches
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.4.1 Conditional Branches">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bropcode_0000" class="md-nav__link">
    <span class="md-ellipsis">
      BR(opcode = 0000)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jmpopcode_1100" class="md-nav__link">
    <span class="md-ellipsis">
      JMP(opcode = 1100)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trapopcode_1111" class="md-nav__link">
    <span class="md-ellipsis">
      TRAP(opcode = 1111)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#two_method_of_loop_control" class="md-nav__link">
    <span class="md-ellipsis">
      Two Method of Loop Control
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#56_the_data_path_revisited" class="md-nav__link">
    <span class="md-ellipsis">
      5.6 The Data Path Revisited
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.6 The Data Path Revisited">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#561_basic_component" class="md-nav__link">
    <span class="md-ellipsis">
      5.6.1 Basic Component
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.6.1 Basic Component">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the_global_bus" class="md-nav__link">
    <span class="md-ellipsis">
      The Global Bus
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chapter_6_programming" class="md-nav__link">
    <span class="md-ellipsis">
      Chapter 6 Programming
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Chapter 6 Programming">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#code_for_conditional" class="md-nav__link">
    <span class="md-ellipsis">
      Code for Conditional
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#code_for_iteration" class="md-nav__link">
    <span class="md-ellipsis">
      Code for Iteration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chapter_7_assembly_language" class="md-nav__link">
    <span class="md-ellipsis">
      Chapter 7 Assembly Language
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Chapter 7 Assembly Language">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71_assembly_language_programmingmoving_up_a_level" class="md-nav__link">
    <span class="md-ellipsis">
      7.1 Assembly Language Programming—Moving Up a Level
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72_an_assembly_language_program" class="md-nav__link">
    <span class="md-ellipsis">
      7.2 An Assembly Language Program
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.2 An Assembly Language Program">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#721_instructions" class="md-nav__link">
    <span class="md-ellipsis">
      7.2.1 Instructions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.2.1 Instructions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#7211_opcodes_and_operands" class="md-nav__link">
    <span class="md-ellipsis">
      7.2.1.1 Opcodes and Operands
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7212_label" class="md-nav__link">
    <span class="md-ellipsis">
      7.2.1.2 Label
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7213_comments" class="md-nav__link">
    <span class="md-ellipsis">
      7.2.1.3 Comments
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#722_psudo-opsassembler_directives" class="md-nav__link">
    <span class="md-ellipsis">
      7.2.2 Psudo-Ops(Assembler Directives)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.2.2 Psudo-Ops(Assembler Directives)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#7221_orig" class="md-nav__link">
    <span class="md-ellipsis">
      7.2.2.1 .ORIG
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7222_fill" class="md-nav__link">
    <span class="md-ellipsis">
      7.2.2.2 .FILL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7223_blkw" class="md-nav__link">
    <span class="md-ellipsis">
      7.2.2.3 .BLKW
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7224_stringz" class="md-nav__link">
    <span class="md-ellipsis">
      7.2.2.4 .STRINGZ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7225_end" class="md-nav__link">
    <span class="md-ellipsis">
      7.2.2.5 .END
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#73_the_assembly_process" class="md-nav__link">
    <span class="md-ellipsis">
      7.3 The Assembly Process
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.3 The Assembly Process">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#732_a_two-pass_process" class="md-nav__link">
    <span class="md-ellipsis">
      7.3.2 A Two-Pass Process
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#733_the_first_pass_creating_the_symbol_table" class="md-nav__link">
    <span class="md-ellipsis">
      7.3.3 The First Pass: Creating the Symbol Table
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#734_the_second_pass_generating_the_machine_language_program" class="md-nav__link">
    <span class="md-ellipsis">
      7.3.4 The Second Pass: Generating the Machine Language Program
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#74_beyond_the_assembly_of_a_single_assembly_language_program" class="md-nav__link">
    <span class="md-ellipsis">
      7.4 Beyond the Assembly of a Single Assembly Language Program
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.4 Beyond the Assembly of a Single Assembly Language Program">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#741_the_executable_image" class="md-nav__link">
    <span class="md-ellipsis">
      7.4.1 The Executable Image
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#742_more_than_one_object_file" class="md-nav__link">
    <span class="md-ellipsis">
      7.4.2 More than One Object File
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chapter_8_data_structures" class="md-nav__link">
    <span class="md-ellipsis">
      Chapter 8 Data Structures
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Chapter 8 Data Structures">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81_subroutinesfunctionsprocedures" class="md-nav__link">
    <span class="md-ellipsis">
      8.1 Subroutines(Functions)(Procedures)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.1 Subroutines(Functions)(Procedures)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#811_the_callreturn_mechanism" class="md-nav__link">
    <span class="md-ellipsis">
      8.1.1 The Call/Return Mechanism
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.1.1 The Call/Return Mechanism">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#812_jsrr" class="md-nav__link">
    <span class="md-ellipsis">
      8.1.2 JSR(R)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#813_saving_and_restoring_registers" class="md-nav__link">
    <span class="md-ellipsis">
      8.1.3 Saving and Restoring Registers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#814_library_routines" class="md-nav__link">
    <span class="md-ellipsis">
      8.1.4 Library Routines
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82_the_stack" class="md-nav__link">
    <span class="md-ellipsis">
      8.2 The Stack
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.2 The Stack">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#821_an_abstract_data_type" class="md-nav__link">
    <span class="md-ellipsis">
      8.2.1 An Abstract Data Type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementation_in_memory" class="md-nav__link">
    <span class="md-ellipsis">
      Implementation in Memory
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Implementation in Memory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#push" class="md-nav__link">
    <span class="md-ellipsis">
      Push
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pop" class="md-nav__link">
    <span class="md-ellipsis">
      Pop
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#underflow" class="md-nav__link">
    <span class="md-ellipsis">
      Underflow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#overflow" class="md-nav__link">
    <span class="md-ellipsis">
      Overflow
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#83_recursion" class="md-nav__link">
    <span class="md-ellipsis">
      8.3 Recursion
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.3 Recursion">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#831_bad_example_number_1_factorial" class="md-nav__link">
    <span class="md-ellipsis">
      8.3.1 Bad Example Number 1: Factorial
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#812_fibonaccian_even_worse_example" class="md-nav__link">
    <span class="md-ellipsis">
      8.1.2 Fibonacci(An Even Worse Example)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#813_a_mazegood_example" class="md-nav__link">
    <span class="md-ellipsis">
      8.1.3 A Maze(Good example)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#84_the_queue" class="md-nav__link">
    <span class="md-ellipsis">
      8.4 The Queue
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.4 The Queue">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#841_the_basic_operations_remove_from_front_insert_at_rear" class="md-nav__link">
    <span class="md-ellipsis">
      8.4.1 The Basic Operations: Remove from Front, Insert at Rear
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#842_wrap-around" class="md-nav__link">
    <span class="md-ellipsis">
      8.4.2 Wrap-Around
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.4.2 Wrap-Around">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#remove" class="md-nav__link">
    <span class="md-ellipsis">
      Remove
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#load" class="md-nav__link">
    <span class="md-ellipsis">
      Load
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#843_how_many_elements_can_we_store_in_a_queue" class="md-nav__link">
    <span class="md-ellipsis">
      8.4.3 How Many Elements Can We Store in a Queue?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#844_tests_for_underflow_overflow" class="md-nav__link">
    <span class="md-ellipsis">
      8.4.4 Tests for Underflow, Overflow
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85_character_strings" class="md-nav__link">
    <span class="md-ellipsis">
      8.5 Character Strings
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5 Character Strings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pointer" class="md-nav__link">
    <span class="md-ellipsis">
      Pointer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chapter_9_io" class="md-nav__link">
    <span class="md-ellipsis">
      Chapter 9 I/O
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Chapter 9 I/O">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#91_privilege_priority_and_the_memory_address_space" class="md-nav__link">
    <span class="md-ellipsis">
      9.1 Privilege, Priority, and the Memory Address Space
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.1 Privilege, Priority, and the Memory Address Space">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#911_privilege_and_priority" class="md-nav__link">
    <span class="md-ellipsis">
      9.1.1 Privilege and Priority
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.1.1 Privilege and Priority">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#9111_privilege" class="md-nav__link">
    <span class="md-ellipsis">
      9.1.1.1 Privilege
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9112_priority" class="md-nav__link">
    <span class="md-ellipsis">
      9.1.1.2 Priority
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9113_two_orthogonal_notions" class="md-nav__link">
    <span class="md-ellipsis">
      9.1.1.3 Two Orthogonal Notions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9114_the_processor_status_register_psr" class="md-nav__link">
    <span class="md-ellipsis">
      9.1.1.4 The Processor Status Register (PSR)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#912_organization_of_memory" class="md-nav__link">
    <span class="md-ellipsis">
      9.1.2 Organization of Memory
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.1.2 Organization of Memory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#system_space" class="md-nav__link">
    <span class="md-ellipsis">
      System Space
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user_space" class="md-nav__link">
    <span class="md-ellipsis">
      User Space
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#io_page" class="md-nav__link">
    <span class="md-ellipsis">
      I/O page
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#92_inputoutput" class="md-nav__link">
    <span class="md-ellipsis">
      9.2 Input/Output
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.2 Input/Output">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#921_some_basic_characteristics_of_io" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.1 Some Basic Characteristics of I/O
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.2.1 Some Basic Characteristics of I/O">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#9211_memory-mapped_io_vs_special_io_instructions" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.1.1 Memory-Mapped I/O vs. Special I/O Instructions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9212_asynchronous_vs_synchronous" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.1.2 Asynchronous vs. Synchronous
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9213_interrupt-driven_vs_polling" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.1.3 Interrupt-Driven vs. Polling
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#922_input_from_the_keyboard" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.2 Input from the Keyboard
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.2.2 Input from the Keyboard">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#9221_basic_input_registers_kbdr_and_kbsr" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.2.1 Basic Input Registers (KBDR and KBSR)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9222_the_basic_input_service_routine" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.2.2 The Basic Input Service Routine
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9223_implementation_of_memory-mapped_input" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.2.3 Implementation of Memory-Mapped Input
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#923_output_to_the_monitor" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.3 Output to the Monitor
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.2.3 Output to the Monitor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#9231_basic_output_registers_ddr_and_dsr" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.3.1 Basic Output Registers (DDR and DSR)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9232_the_basic_output_service_routine" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.3.2 The Basic Output Service Routine
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9233_implementation_of_memory-mapped_output" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.3.3 Implementation of Memory-Mapped Output
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9234_example_keyboard_echo" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.3.4 Example: Keyboard Echo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#924_a_more_sophisticated_input_routine" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.4 A More Sophisticated Input Routine
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#925_implementation_of_memory-mapped_io_revisited" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.5 Implementation of Memory-Mapped I/O, Revisited
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#93_operating_system_service_routines_lc-3_trap_routines" class="md-nav__link">
    <span class="md-ellipsis">
      9.3 Operating System Service Routines (LC-3 Trap Routines)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.3 Operating System Service Routines (LC-3 Trap Routines)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#931_introduction" class="md-nav__link">
    <span class="md-ellipsis">
      9.3.1 Introduction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#932_the_trap_mechanism" class="md-nav__link">
    <span class="md-ellipsis">
      9.3.2 The Trap Mechanism
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#933_the_trap_instruction" class="md-nav__link">
    <span class="md-ellipsis">
      9.3.3 The TRAP Instruction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#934_the_rti_instruction_to_return_control_to_the_calling_program" class="md-nav__link">
    <span class="md-ellipsis">
      9.3.4 The RTI Instruction: To Return Control to the Calling Program
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#935_a_summary_of_the_trap_service_routine_process" class="md-nav__link">
    <span class="md-ellipsis">
      9.3.5 A Summary of the Trap Service Routine Process
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#936_trap_routines_for_handling_io" class="md-nav__link">
    <span class="md-ellipsis">
      9.3.6 Trap Routines for Handling I/O
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#937_a_trap_routine_for_halting_the_computer" class="md-nav__link">
    <span class="md-ellipsis">
      9.3.7 A Trap Routine for Halting the Computer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#938_the_trap_routine_for_character_input_one_last_time" class="md-nav__link">
    <span class="md-ellipsis">
      9.3.8 The Trap Routine for Character Input (One Last Time)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#939_puts_writing_a_character_string_to_the_monitor" class="md-nav__link">
    <span class="md-ellipsis">
      9.3.9 PUTS: Writing a Character String to the Monitor
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#94_interrupts_and_interrupt-_driven_io" class="md-nav__link">
    <span class="md-ellipsis">
      9.4 Interrupts and Interrupt- Driven I/O
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.4 Interrupts and Interrupt- Driven I/O">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#942_why_have_interrupt-driven_io" class="md-nav__link">
    <span class="md-ellipsis">
      9.4.2 Why Have Interrupt-Driven I/O?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#943_two_parts_to_the_process" class="md-nav__link">
    <span class="md-ellipsis">
      9.4.3 Two Parts to the Process
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#944_part_i_causing_the_interrupt_to_occur" class="md-nav__link">
    <span class="md-ellipsis">
      9.4.4 Part I: Causing the Interrupt to Occur
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.4.4 Part I: Causing the Interrupt to Occur">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#9441_the_interrupt_signal_from_the_device" class="md-nav__link">
    <span class="md-ellipsis">
      9.4.4.1 The Interrupt Signal from the Device
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9442_the_urgency_of_the_request" class="md-nav__link">
    <span class="md-ellipsis">
      9.4.4.2 The Urgency of the Request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9443_the_int_signal" class="md-nav__link">
    <span class="md-ellipsis">
      9.4.4.3 The INT Signal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9444_the_test_for_int" class="md-nav__link">
    <span class="md-ellipsis">
      9.4.4.4 The Test for INT
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#945_part_ii_handling_the_interrupt_request" class="md-nav__link">
    <span class="md-ellipsis">
      9.4.5 Part II: Handling the Interrupt Request
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.4.5 Part II: Handling the Interrupt Request">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#9451_initiate_the_interrupt" class="md-nav__link">
    <span class="md-ellipsis">
      9.4.5.1 Initiate the Interrupt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9452_service_the_interrupt" class="md-nav__link">
    <span class="md-ellipsis">
      9.4.5.2 Service the Interrupt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9453_return_from_the_interrupt" class="md-nav__link">
    <span class="md-ellipsis">
      9.4.5.3 Return from the Interrupt
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#946_an_example" class="md-nav__link">
    <span class="md-ellipsis">
      9.4.6 An Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#947_not_just_io_devices" class="md-nav__link">
    <span class="md-ellipsis">
      9.4.7 Not Just I/O Devices
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#95_polling_revisited_now_that_we_know_about_interrupts" class="md-nav__link">
    <span class="md-ellipsis">
      9.5 Polling Revisited, Now That We Know About Interrupts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.5 Polling Revisited, Now That We Know About Interrupts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#951_the_problem" class="md-nav__link">
    <span class="md-ellipsis">
      9.5.1 The Problem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#952_the_solution" class="md-nav__link">
    <span class="md-ellipsis">
      9.5.2 The Solution
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chapter_10_a_calculator" class="md-nav__link">
    <span class="md-ellipsis">
      Chapter 10 A Calculator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Chapter 10 A Calculator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#101_data_type_conversion" class="md-nav__link">
    <span class="md-ellipsis">
      10.1 Data Type Conversion
    </span>
  </a>
  
    <nav class="md-nav" aria-label="10.1 Data Type Conversion">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1011_example_a_bogus_program_2_3_e" class="md-nav__link">
    <span class="md-ellipsis">
      10.1.1 Example: A Bogus Program: 2 + 3 = e
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1012_input_data_ascii_to_binary" class="md-nav__link">
    <span class="md-ellipsis">
      10.1.2 Input Data (ASCII to Binary)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1013_display_result_binary_to_ascii" class="md-nav__link">
    <span class="md-ellipsis">
      10.1.3 Display Result (Binary to ASCII)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#102_arithmetic_using_a_stack" class="md-nav__link">
    <span class="md-ellipsis">
      10.2 Arithmetic Using a Stack
    </span>
  </a>
  
    <nav class="md-nav" aria-label="10.2 Arithmetic Using a Stack">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1021_the_stack_as_temporary_storage" class="md-nav__link">
    <span class="md-ellipsis">
      10.2.1 The Stack as Temporary Storage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1022_an_example" class="md-nav__link">
    <span class="md-ellipsis">
      10.2.2 An Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1023_opadd_opmult_and_opneg" class="md-nav__link">
    <span class="md-ellipsis">
      10.2.3 OpAdd, OpMult, and OpNeg
    </span>
  </a>
  
    <nav class="md-nav" aria-label="10.2.3 OpAdd, OpMult, and OpNeg">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the_opadd_subroutine" class="md-nav__link">
    <span class="md-ellipsis">
      The OpAdd Subroutine
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the_opmult_subroutine" class="md-nav__link">
    <span class="md-ellipsis">
      The OpMult Subroutine
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the_opneg_subroutine" class="md-nav__link">
    <span class="md-ellipsis">
      The OpNeg Subroutine
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#103_the_calculator" class="md-nav__link">
    <span class="md-ellipsis">
      10.3 The Calculator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="10.3 The Calculator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1031_functionality" class="md-nav__link">
    <span class="md-ellipsis">
      10.3.1 Functionality
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chapter_19_dynamic_data_structures_in_c" class="md-nav__link">
    <span class="md-ellipsis">
      Chapter 19 Dynamic Data Structures in C
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Chapter 19 Dynamic Data Structures in C">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#195_linked_lists" class="md-nav__link">
    <span class="md-ellipsis">
      19.5 Linked Lists
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="introduction_to_computing_systems">Introduction to Computing Systems<a class="headerlink" href="#introduction_to_computing_systems" title="Permanent link">&para;</a></h1>
<h2 id="_1">资料<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p><a href="https://users.ece.utexas.edu/~patt/19f.306/">历年卷</a></p>
<p><a href="https://www.yuque.com/isshikixiu/codes/ics#yuP5K">语雀笔记</a></p>
<p><a href="https://qsctech.github.io/zju-icicles/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%AE%BA/">作业答案</a></p>
<h2 id="chapter_1_welcome_aboard">Chapter 1 Welcome Aboard<a class="headerlink" href="#chapter_1_welcome_aboard" title="Permanent link">&para;</a></h2>
<h3 id="13_two_recurring_themes">1.3 Two Recurring Themes<a class="headerlink" href="#13_two_recurring_themes" title="Permanent link">&para;</a></h3>
<h4 id="abstraction">Abstraction<a class="headerlink" href="#abstraction" title="Permanent link">&para;</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>helo<br />
!!!</p>
</div>
<p>Abstraction is a technique for establishing a simpler way for a person to interact with a system, removing the details that are unnecessary for the person to interact effectively with that system. Our ability to abstract is very much a productivity enhancer. It allows us to deal with a situation at a higher level, focusing on the essential aspects, while keeping the component ideas in the background. It allows us to be more efficient in our use of time and brain activity. It allows us to not get bogged down in the detail when everything about the detail is working just fine.</p>
<ul>
<li>
<p>We needn&rsquo;t know the layers below of one machine. We have to make a new level of abstraction.</p>
</li>
<li>
<p>Deconstruct — the ability to go from the abstraction back to its component parts.</p>
</li>
</ul>
<h4 id="hardware_vs_software">Hardware vs. Software<a class="headerlink" href="#hardware_vs_software" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>We shouldn&rsquo;t separate people by Hardware and Software.</p>
</li>
<li>
<p>There are important topics in the software that are very deeply interwoven with topics in the hardware. Our contention is that mastering either is easier if you pay attention to both.</p>
</li>
<li>
<p>Most importantly, most computing problems yield better solutions when the problem solver has the capability of both at his or her disposal.</p>
</li>
</ul>
<h3 id="14_a_computer_system">1.4 A  Computer System<a class="headerlink" href="#14_a_computer_system" title="Permanent link">&para;</a></h3>
<ul>
<li>Computer &ndash; a system consisting of the software (i.e., computer programs) that directs and specifies the processing of information (控制信息的处理过程) and the hardware that performs the actual processing of information (执行处理过程) in response to what the software asks the hardware to do.</li>
<li>This hardware is a central processing unit (CPU)</li>
<li>Computer —— the collection of parts that in combination from their computer system. in addition to the processor, a key- board for typing commands, a mouse or keypad or joystick for positioning on menu entries, a monitor for displaying information that the computer system has produced, memory for temporarily storing information, disks and USB memory sticks of one sort or another for storing information for a very long time, even after the computer has been turned off, connections to other devices such as a printer for obtaining paper copies of that information, and the collection of programs (the software) that the user wishes to execute.</li>
</ul>
<h3 id="15_two_very_important_ideas">1.5 Two Very Important Ideas<a class="headerlink" href="#15_two_very_important_ideas" title="Permanent link">&para;</a></h3>
<h4 id="a">a.<a class="headerlink" href="#a" title="Permanent link">&para;</a></h4>
<ul>
<li>All computers (the biggest and the smallest, the fastest and the slowest, the most expensive and the cheapest) are capable of computing exactly the same things if they are given enough time and enough memory. That is, anything a fast computer can do, a slow computer can do also. The slow computer just does it more slowly. A more expensive computer cannot figure out something that a cheaper computer is unable to figure out as long as the cheaper computer can access enough memory. All computers can do exactly the same things. Some computers can do things faster, but none can do more than any other.</li>
</ul>
<h4 id="b">b.<a class="headerlink" href="#b" title="Permanent link">&para;</a></h4>
<ul>
<li>We describe our problems in English or some other language spoken by people. It is necessary to transform our problem from the language of humans to the voltages that influence the flow of electrons. This transformation is really a sequence of systematic transformations.</li>
</ul>
<h3 id="16_computers_as_universal_computational_devices">1.6 Computers as Universal Computational Devices<a class="headerlink" href="#16_computers_as_universal_computational_devices" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Before modern computers</p>
</li>
<li>
<p>analog machines </p>
<ul>
<li>
<p>produced an answer by measuring some physical quantity</p>
</li>
<li>
<p>very hard to increase their accuracy</p>
</li>
</ul>
</li>
<li>
<p>digital machine</p>
<ul>
<li>adding machine</li>
</ul>
</li>
<li>
<p>We don&rsquo;t have to buy a new computer. We just give the old computer a new set of instructions (a program) to carry out the new computation</p>
</li>
<li>
<p>Anything that can be computed, can be computed by a computer provided it has enough time and enough memory. So computers are programmable.</p>
</li>
<li>
<p>A big  or expensive computer cannot do more than a small cheap computer.</p>
</li>
<li>
<p>Computer Capability</p>
</li>
<li>The ability to solve the problem is not dependent on the quality of one computer, which only affects the time to solve a problem.</li>
</ul>
<h3 id="17_how_do_we_get_the_electrons_to_do_the_work">1.7 How Do We Get the Electrons to Do the Work?<a class="headerlink" href="#17_how_do_we_get_the_electrons_to_do_the_work" title="Permanent link">&para;</a></h3>
<p>We call the steps of this process the “Levels of Transformation.” As we will see, at each level we have choices. If we ignore any of the levels, our ability to make the best use of our computing system can be very adversely affected.</p>
<h4 id="transformation_hierarchy">Transformation Hierarchy<a class="headerlink" href="#transformation_hierarchy" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><img src="ICS.assets/IMG_16995C05591F-1.jpeg" alt="IMG_16995C05591F-1" style="zoom:50%;" /></p>
</li>
<li>
<p>The Statement of the Problem: Computer can not understand natural language, because of ambiguity, so the first step is interpreting the problem.
  To tell it to do something where there are multiple interpretations would cause the computer to not know which interpretation to follow.</p>
</li>
<li>
<p>The Algorithm: step-by-step procedure that is guaranteed to terminate, such that each step is precisely stated and can be carried out by the computer.</p>
</li>
<li>
<p>effective computability : each step can be carried out by a computer
    To take the largest prime number lacks effective computability</p>
</li>
<li>
<p>definiteness : each step is precisely stated
    stir until lumpy lacks definiteness, since the notion of lumpiness is not precise</p>
</li>
<li>
<p>finiteness : the procedure will terminate</p>
</li>
<li>
<p>small example: Data Type Conversion &ndash; the unary into binary</p>
</li>
<li>
<p>Program</p>
</li>
</ul>
<p>transform the algorithm into a computer program in one of the programming languages that are available.</p>
<ul>
<li>
<p>Programming languages are mechanical languages (C, C++m COBOL, Fortran, Pascal)</p>
</li>
<li>
<p>high-level languages: at a distance (a high level) from the underlying computer. At their best, they are independent of the computer on which the programs will execute. We say the language is “machine independent.” （先前的几种都是高级语言）</p>
</li>
<li>
<p>low-level languages: tied to the computer on which the programs will execute. There is generally one such low-level language for each computer. That language is called the assembly language (汇编语言)for that computer.</p>
</li>
<li>
<p>ISA ( instruction set architecture )</p>
</li>
</ul>
<p>complete specification  of the interface between programs and the underlying computer hardware</p>
<p>更新：ISA内定义了指令、内存空间、寻址模式、中断/异常</p>
<ul>
<li>
<p>opcode: describe the operation</p>
</li>
<li>
<p>operand: describe individual data values</p>
</li>
<li>
<p>data types: representation of an operand such that the computer can perform operations on that representation</p>
</li>
<li>
<p>addressing mode: the mechanisms that the computer can use to figure out where the operands are located</p>
</li>
<li>
<p>The number of opcodes, data types, and addressing modes specified by an ISA vary among different ISAs. 
    Some ISAs have one or two addressing modes, whereas others have more than 20. The x86, the ISA used in the PC, has more than 200 opcodes, more than a dozen data types, and more than two dozen addressing modes.</p>
</li>
<li>
<p>ex. x86(intel), ARM, THUMB, POWER</p>
</li>
<li>
<p>The translation from a high-level language ( C ) to the ISA of the computer is usually done by a translating program called compiler. For each high-level language and each desired target ISA, one must provide a corresponding compiler.</p>
</li>
<li>
<p>The translation from the unique assembly language of a computer to its ISA is done by an assembler.</p>
</li>
<li>
<p>汇编语言是用人类看得懂的语言来描述指令集。否则指令集的机器码都是一堆二进制数字，人类读起来非常麻烦。但是汇编语言也有缺点，首先汇编语言操作起来还是挺麻烦的。其次汇编语言对应一条条指令集，所以当指令集改变时，就得修改相应汇编语言，导致其可移植性很差，不能跨平台使用，如ARM的汇编语言与Intel X86的就不同。这时人们就想开发一种更方便操作，超越指令集的语言，于是有了C，C++等高级语言。</p>
</li>
<li>
<p>ISA 连接自然语言描述功能和电脑理解功能 （eg 定义汽车踏板的作用，但是对踏板背后的实现不做要求）</p>
</li>
<li>
<p>Micro Architecture</p>
</li>
<li>
<p>implementation of the ISA</p>
</li>
<li>
<p>can be different from each other</p>
</li>
<li>
<p>Computer design is always an exercise in tradeoffs, as the designer opts for higher (or lower) performance, more (or less) energy required, at greater(or lesser) cost.</p>
</li>
<li>
<p>一个指令集可能有多个微架构，但一个微架构只适用于一个指令集</p>
</li>
<li>
<p>Logic Gates</p>
</li>
<li>
<p>also have many choices, like an addition, there are several choices of logic circuits to perform the operations at different speeds and corresponding costs</p>
</li>
<li>
<p>Electronic circuits</p>
</li>
<li>
<p>Electron</p>
</li>
<li>
<p>If you are familiar with all layers, you will do a better job</p>
</li>
</ul>
<h2 id="chapter_2_bits_and_data_types">Chapter 2 Bits and Data Types<a class="headerlink" href="#chapter_2_bits_and_data_types" title="Permanent link">&para;</a></h2>
<h3 id="21_bits_and_data_types">2.1 Bits and Data Types<a class="headerlink" href="#21_bits_and_data_types" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Bit: We symbolically represent the presence of a voltage as “1” and the absence of a voltage as “0.” We refer to each 0 and each 1 as a “bit,” which is a shortened form of binary digit.</p>
</li>
<li>
<p>Data Type</p>
</li>
</ul>
<p>We say a particular representation is a data type if there are operations in the computer that can operate on information that is encoded in that representation.</p>
<ul>
<li>
<p>Representation</p>
<ul>
<li>
<p>Binary</p>
</li>
<li>
<p>Unary</p>
</li>
<li>
<p>定义了数据的表达形式，并且定义了相关的操作方法，才能将该表达方式称为数据类型</p>
</li>
</ul>
</li>
<li>
<p>In this book, we will mainly use two data types: 2’s complement integers for representing positive and negative integers that we wish to perform arithmetic on, and ASCII codes for representing characters that we wish to input to a computer via the keyboard or output from the computer via a monitor. </p>
</li>
</ul>
<h3 id="22_integer_data_type">2.2 Integer Data Type<a class="headerlink" href="#22_integer_data_type" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Unsigned integers
  With k bits, we can represent in this positional notation exactly 2<sup>k</sup> integers, ranging from 0 to 2<sup>k-1</sup></p>
</li>
<li>
<p>use positional notation(位值法）</p>
</li>
<li>
<p>Signed integers</p>
</li>
<li>
<p>Representation</p>
<ul>
<li>
<p>signed-magnitude data type(符号位 / 原码): let the leading 0 signifies a positive integer, leading 1 signifies a negative integer</p>
</li>
<li>
<p>1&rsquo;s complement(反码): &ldquo;flipping&rdquo; all the bits</p>
</li>
<li>
<p>2&rsquo;s complement(补码)</p>
</li>
</ul>
<p>two representations above both require unnecessarily cumbersome hardware to do addition, so it is necessary to choose representations that simplified the circuit</p>
<ul>
<li>
<p>引入补码的原因：1.原码符号不同做加减法结果会出现问题2.其他方法浪费空间，原码对0的表示方法有两种3.A+（-A）≠ 0</p>
</li>
<li>
<p>get the representation of -A after knowing the representation of A: Flip all the bits of A (the official term for “flip” is complement), and add 1 to the complement of A. The sum of A and the complement of A is 11111. If we then add 00001 to 11111, the final result is 00000. (负数的补码是该正数的补码或原码取反加一，负数补码的补码是原码)</p>
</li>
<li>
<p>补充方法：从右往左找到第一个1，该1的左侧所有数反转</p>
</li>
<li>
<p>REPRESENTATION(value + 1) = REPRESENTATION(value) + REPRESENTATION(1).</p>
</li>
<li>
<p>可以表示 -2<sup>(n-1)</sup> ~ 2<sup>(n-1)</sup> - 1 所有数值</p>
</li>
</ul>
</li>
</ul>
<h3 id="24_conversion_between_binary_and_decimal">2.4 Conversion Between Binary and Decimal<a class="headerlink" href="#24_conversion_between_binary_and_decimal" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Binary to Decimal</p>
</li>
<li>
<p>Examine the leading bit: </p>
<ul>
<li>
<p>If it is a 0, the integer is positive, and we can begin evaluating its magnitude. </p>
</li>
<li>
<p>If it is a 1, the integer is negative. In that case, we need to first obtain the 2’s complement representation of the positive number having the same magnitude. We do this by flipping all the bits and adding 1.</p>
</li>
</ul>
</li>
<li>
<p>Calculate magnitude</p>
</li>
<li>
<p>Add minus sign when necessary</p>
</li>
<li>
<p>Decimal to Binary</p>
</li>
<li>将十进制写成二进制展开，根据十进制数字的奇偶性判断二进制格式中最后一位的0/1格式。减去该位后，等式两侧同除2，重复上述步骤。</li>
</ul>
<h3 id="25_operations_on_bits_--_part_i_arithmetic">2.5 Operations on Bits &ndash; Part I: Arithmetic<a class="headerlink" href="#25_operations_on_bits_--_part_i_arithmetic" title="Permanent link">&para;</a></h3>
<ul>
<li>Addition and Subtraction</li>
<li>
<p>A + B, A + (-B)</p>
</li>
<li>
<p>Sign-Extension</p>
</li>
<li>
<p>It is often useful to represent a small number with fewer bits. </p>
</li>
<li>
<p>leading 0s do not affect the value of a positive number, leading 1s do not affect the value of a negative number.</p>
</li>
<li>
<p>Sign-EXTension, often abbreviated SEXT : Sign-extension is performed in order to be able to operate on representations of different lengths.It does not affect the values of the numbers being represented.</p>
</li>
<li>
<p>Overflow</p>
</li>
<li>
<p>Note that the sum of a negative number and a positive number never presents a problem.</p>
</li>
<li>
<p>前面的两个overflow例子都发生在同符号数相加的情况下。事实上，也只有在这两种同符号运算情观下，才会发生溢出。一个正数和一个负数相加，永运都不会溢出</p>
</li>
</ul>
<h3 id="26_operations_on_bits_--_part_ii_logical_operations">2.6 Operations on Bits &ndash; Part II: Logical Operations<a class="headerlink" href="#26_operations_on_bits_--_part_ii_logical_operations" title="Permanent link">&para;</a></h3>
<ul>
<li>AND function</li>
<li>
<p>bit-wise AND</p>
</li>
<li>
<p>OR function (inclusive OR)</p>
</li>
<li>
<p>NOT function
  a unary logical function</p>
</li>
<li>
<p>Exclusive-OR function</p>
</li>
<li>
<p>DeMorgan&rsquo;s Laws</p>
</li>
<li>
<p>The Bit Vector</p>
</li>
<li>
<p>An m-bit pattern where each bit has a logical value (0 or 1) independent of the other bits is called a bit vector. It is a convenient mechanism for identifying a property such that some of the bits identify the presence of the property and other bits identify the absence of the property.</p>
</li>
<li>
<p>Bit Mask: A bit mask is a binary pattern that enables the bits of A to be separated into two parts—generally the part you care about and the part you wish to ignore. 
    与某一00001000按位或来把该位set 1，与000010000按位与来把除1意外的其他位set 0</p>
</li>
<li>
<p>Data Structure</p>
</li>
<li>Doubly link list</li>
</ul>
<h3 id="27_other_representations">2.7 Other Representations<a class="headerlink" href="#27_other_representations" title="Permanent link">&para;</a></h3>
<h4 id="floating_point_data_type">Floating Point Data Type<a class="headerlink" href="#floating_point_data_type" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>One of them,usually called float, consists of 32 bits, allocated as follows:</p>
</li>
<li>
<p>1 bit for the sign (positive or negative)</p>
</li>
<li>
<p>8 bits for the range (the exponent field)</p>
</li>
<li>
<p>23 bits for precision (the fraction field)</p>
</li>
<li>
<p><img alt="image-20230714110204720" src="ICS.assets/image-20230714110204720.png" /></p>
</li>
<li>
<p>Normalized Form: N = (−1)<sup>S</sup> × 1. fraction × 2<sup>(exponent−127)</sup>, 1 ≤ exponent ≤ 254</p>
</li>
<li>
<p>Exponent: the eight-bit exponent is restricted to the 254 unsigned integer values, 1 (00000001) through 254 (11111110).The eight exponent bits are encoded in what we call an excess code, named for the notion that one can get the real exponent by treating the code as an unsigned integer and subtracting the excess (sometimes called the bias).</p>
</li>
<li>
<p>infinities: Infinity is represented by the exponent field containing all 1s and the fraction field containing all 0s. We represent positive infinity if the sign bit is 0 and negative infinity if the sign bit is 1.</p>
</li>
<li>
<p>NaN: exponent field contains all 1s but the fraction field does not contain all 0s</p>
</li>
<li>
<p>subnormal numbers : numbers smaller than 2−126 but larger than 0. </p>
</li>
<li>
<p>The largest subnormal number is N = 0.11111111111111111111111 × 2−126</p>
</li>
<li>
<p>The smallest subnormal number is N = 0.00000000000000000000001 × 2<sup>−126</sup> , i.e., 2<sup>−23</sup> × 2<sup>−126</sup> which is 2<sup>−149</sup> .
    We represent them with an exponent field of 00000000. The fraction field is represented in the same way as with normalized numbers. That is, if the exponent field contains 00000000, the exponent is −126, and the significant digits are obtained by starting with a leading 0.</p>
</li>
<li>
<p>规格数: 用于表示最常见的数值, 比如1.2, 34567, 7.996, 0.2. 但规格数不能表示0和非常靠近0的数.非规格数: 用于表示0, 以及非常靠近0的数, 比如1E-38.特殊数: 用于表示&rdquo;无穷&rdquo;和&rdquo;NaN&rdquo;:</p>
</li>
<li>
<p><img alt="image-20230714111200313" src="ICS.assets/image-20230714111200313.png" /><img alt="image-20230714111228444" src="ICS.assets/image-20230714111228444.png" /></p>
</li>
</ul>
<h4 id="ascii_codes">ASCII Codes<a class="headerlink" href="#ascii_codes" title="Permanent link">&para;</a></h4>
<blockquote>
<p>the standard code that almost all computer equipment manufacturers have agreed to use for transferring characters between the main computer processing unit and the input and output devices.(用来在处理单元和I/O设备间传输字符)</p>
<p>an eight-bit code. stands for American Standard Code for Information Interchange</p>
<p>Each key on the keyboard is identified by its unique ASCII code.</p>
</blockquote>
<h4 id="hexadecimal_notation_easy_to_remember_copy">Hexadecimal Notation (easy to remember, copy)<a class="headerlink" href="#hexadecimal_notation_easy_to_remember_copy" title="Permanent link">&para;</a></h4>
<ul>
<li>2‘s complement to Hex时要注意如果是负数要前补1，并且是补码的形式</li>
</ul>
<h2 id="chapter_3_digital_logic_structures">Chapter 3 Digital Logic Structures<a class="headerlink" href="#chapter_3_digital_logic_structures" title="Permanent link">&para;</a></h2>
<h3 id="31_the_transistor">3.1 The Transistor<a class="headerlink" href="#31_the_transistor" title="Permanent link">&para;</a></h3>
<ul>
<li>MOS</li>
</ul>
<p>metal-oxide semiconductor</p>
<ul>
<li>
<p>N-type （negative）</p>
<p>掺杂P原子，多电子，称为N-type半导体</p>
<ul>
<li>
<p>it has gate(栅极), source(源极), drain(漏极)<img src="ICS.assets/IMG_CFC94B50B440-1.jpeg" alt="IMG_CFC94B50B440-1" style="zoom:25%;" /></p>
</li>
<li>
<p>gate is supplied with 1.2 volts: short circuit</p>
</li>
<li>
<p>gate is supplied with 0 volts: open circuit</p>
</li>
<li>
<p><img src="ICS.assets/IMG_43A35591B577-1.jpeg" alt="IMG_43A35591B577-1" style="zoom:25%;" />
  only show the terminals of the power supply, because the power supply itself provides the completion of the completed circuit is well understood.横线是正极，下三角代表接地</p>
</li>
</ul>
</li>
<li>
<p>P-type （positive）</p>
<p>掺杂B原子，缺电子，称为P-type半导体</p>
<ul>
<li>
<p><img alt="IMG_218584DA788B-1" src="ICS.assets/IMG_218584DA788B-1.jpeg" /></p>
</li>
<li>
<p>0 volts: short circuit:</p>
</li>
<li>
<p>1.2 volts: open circuit</p>
</li>
</ul>
</li>
<li>
<p>NMOS是栅极高电平（|VG-S| &gt; Vt, VG - Vs &gt; -Vt）导通,低电平断开,可用来控制与地之间的导通。</p>
</li>
<li>
<p>PMOS是栅极低电平（|VG-S| &gt; Vt, VG - Vs &lt; -Vt）导通,高电平断开,可用来控制与电源之间的导通</p>
</li>
<li>
<p>CMOS circuits(complementary metal-oxide semiconductor): circuits that contain both P-type and N-type transistors
  CMOS门电路静态功耗低，抗干扰能力强，开关速度高，工作稳定可靠，适用于逻辑电路设计，应用非常广泛。</p>
</li>
</ul>
<h3 id="32_logic_gates">3.2 Logic Gates<a class="headerlink" href="#32_logic_gates" title="Permanent link">&para;</a></h3>
<p>There are transistor circuits that implement each of these functions. The corresponding circuits are called AND, OR, and NOT gates.</p>
<h4 id="the_not_gateinverter">The NOT Gate(Inverter)<a class="headerlink" href="#the_not_gateinverter" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>It is constructed from two MOS transistors, one P-type and one N-type.<img src="ICS.assets/IMG_9F69669CF248-1.jpeg" alt="IMG_9F69669CF248-1" style="zoom: 25%;" /></p>
</li>
<li>
<p>Q：为什么不能只使用PMOS？A：不管输入端为高电平还是低电平，VT1和VT2始终有一个处于截止状态，电源与地之间基本无电流通过，这样CMOS非门电路的功耗很低。</p>
</li>
</ul>
<h4 id="the_nor_gates">The NOR Gates<a class="headerlink" href="#the_nor_gates" title="Permanent link">&para;</a></h4>
<p><img alt="IMG_E0204741FE35-1" src="ICS.assets/IMG_E0204741FE35-1.jpeg" /></p>
<h4 id="the_or_gates">The OR Gates<a class="headerlink" href="#the_or_gates" title="Permanent link">&para;</a></h4>
<ul>
<li><img alt="image-20230714110541794" src="ICS.assets/image-20230714110541794.png" />
  <a href="https://zhuanlan.zhihu.com/p/96545244">为什么PMOS在上，NMOS在下?</a><img alt="image-20230714110557379" src="ICS.assets/image-20230714110557379.png" /></li>
</ul>
<h4 id="the_and_gates">The AND Gates<a class="headerlink" href="#the_and_gates" title="Permanent link">&para;</a></h4>
<ul>
<li><img alt="image-20230714110633464" src="ICS.assets/image-20230714110633464.png" /></li>
</ul>
<h4 id="basic_logic_gates">Basic Logic Gates<a class="headerlink" href="#basic_logic_gates" title="Permanent link">&para;</a></h4>
<p><img alt="image-20230714110825318" src="ICS.assets/image-20230714110825318.png" /></p>
<h3 id="33_combinational_logic_gates">3.3 Combinational Logic Gates<a class="headerlink" href="#33_combinational_logic_gates" title="Permanent link">&para;</a></h3>
<h4 id="decoder">Decoder<a class="headerlink" href="#decoder" title="Permanent link">&para;</a></h4>
<p>A decoder has the property that exactly one of its outputs is 1 and all the rest are 0s.</p>
<ul>
<li>
<p>In general, decoders have n inputs and 2n outputs. We say the output line that detects the input pattern is asserted. </p>
</li>
<li>
<p>the input to the decoder is 10, resulting in the third output line being <a href="https://zh.wikipedia.org/wiki/斷言_(程式)">asserted</a>.!</p>
</li>
<li>
<p><img alt="image-20230714110843012" src="ICS.assets/image-20230714110843012.png" /></p>
</li>
</ul>
<h4 id="mux_multiplexer">MUX (multiplexer)<a class="headerlink" href="#mux_multiplexer" title="Permanent link">&para;</a></h4>
<p>a shows a logic gate implementation of a two-input multiplexer. </p>
<ul>
<li>
<p>The function of a mux is to select one of the inputs (A or B) and connect it to the output. The select signal (S in Figure 3.12)determines which input is connected to the output.</p>
</li>
<li>
<p><img alt="img" src="ICS.assets/image-20230714110859851.png" /></p>
</li>
<li>
<p><img alt="image-20230714110909082" src="ICS.assets/image-20230714110909082.png" /></p>
</li>
<li>
<p>In general, a mux consists of 2<sup>n</sup> inputs and n select lines.</p>
</li>
</ul>
<h4 id="a_one-bit_adder">A One-Bit Adder<a class="headerlink" href="#a_one-bit_adder" title="Permanent link">&para;</a></h4>
<ul>
<li><img alt="img" src="ICS.assets/image-20230714110919161.png" /></li>
<li><img alt="image-20230714110929624" src="ICS.assets/image-20230714110929624.png" /></li>
</ul>
<h4 id="the_programmable_logic_arraypla">The Programmable Logic Array(PLA)<a class="headerlink" href="#the_programmable_logic_arraypla" title="Permanent link">&para;</a></h4>
<ul>
<li>It consists of an array of AND gates (called an AND array) followed by an array of OR gates (called an OR array). The number of AND gates corresponds to the number of input combinations (rows) in the truth table. For n-input logic functions, we need a PLA with 2<sup>n</sup> n-input AND gates.</li>
<li><img alt="image-20230714110951893" src="ICS.assets/image-20230714110951893.png" /></li>
</ul>
<h4 id="logical_completeness">Logical Completeness<a class="headerlink" href="#logical_completeness" title="Permanent link">&para;</a></h4>
<blockquote>
<p>the set of gates {AND, OR, and NOT} is logically complete because we can build a circuit to carry out the specification of any truth table we wish without using any other kind of gate.</p>
</blockquote>
<ul>
<li>NAND实现其他几个gates的逻辑电路图<img alt="image-20230714112648480" src="ICS.assets/image-20230714112648480.png" /></li>
</ul>
<h3 id="34_basic_storage_elements">3.4 Basic Storage Elements<a class="headerlink" href="#34_basic_storage_elements" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>The R-S Latch</p>
</li>
<li>
<p><img alt="image-20230714111003779" src="ICS.assets/image-20230714111003779.png" /></p>
</li>
<li>
<p><strong>Setting the latch</strong>:  set the latch to store 1</p>
</li>
<li>
<p><strong>Resetting the latch</strong>: set the latch to store 0</p>
</li>
<li>
<p><strong>The Quiescent State:  S and R are 1</strong></p>
<blockquote>
<p>We describe the quiescent (or quiet) state of a latch as the state when the latch is storing a value, either 0 or 1, and nothing is trying to change that value. </p>
</blockquote>
</li>
<li>
<p>Setting the Latch to a1 or a0</p>
<ul>
<li>
<p>a1: momentarily set S to 0, keep R 1</p>
</li>
<li>
<p>a0: momentarily set R to 0, keep S 1</p>
</li>
<li>
<p>then, set R and S both to 1 (return to the quiescent state)</p>
</li>
</ul>
</li>
<li>
<p><strong>set</strong>: setting a variable to 0 or 1, as in “set to 0” or“set to 1.”</p>
</li>
<li>
<p><strong>clear</strong>: the act of setting a variable to 0.</p>
</li>
<li>
<p>Note: We should point out that if both S and R were allowed to be set to 0 at the same time, the outputs a and b would both be 1, and the final state of the latch would depend on the electrical properties of the transistors making up the gates and not on the logic being performed. </p>
</li>
<li>
<p>The Gated D Latch</p>
</li>
<li>
<p>WE(write enable): 为1时可写入数据。</p>
</li>
<li>
<p><img alt="image-20230714111019419" src="ICS.assets/image-20230714111019419.png" /></p>
</li>
</ul>
<h3 id="35_the_concept_of_memory">3.5 The Concept of Memory<a class="headerlink" href="#35_the_concept_of_memory" title="Permanent link">&para;</a></h3>
<blockquote>
<p>Memory is made up of a (usually large) number of locations, each uniquely identifiable and each having the ability to store a value.</p>
</blockquote>
<h4 id="address">address<a class="headerlink" href="#address" title="Permanent link">&para;</a></h4>
<blockquote>
<p>unique identifier associated with each memory location </p>
</blockquote>
<h4 id="addressability">addressability<a class="headerlink" href="#addressability" title="Permanent link">&para;</a></h4>
<blockquote>
<p>the number of bits of information stored in each location</p>
</blockquote>
<ul>
<li>Most memories are byte-addressable.</li>
</ul>
<h4 id="address_space">Address Space<a class="headerlink" href="#address_space" title="Permanent link">&para;</a></h4>
<blockquote>
<p>the total number of uniquely identifiable locations</p>
</blockquote>
<ul>
<li>
<p>With n bits of address, we can uniquely identify 2<sup>n</sup> locations. </p>
</li>
<li>
<p>kilo ~ 2<sup>10</sup></p>
</li>
<li>
<p>mega ~ 2<sup>20</sup></p>
</li>
<li>
<p>giga ~ 2<sup>30</sup></p>
</li>
<li>注意和 address space 做区分，address space 指的是 memory 中，依据寻址输入（下图的<code>A[1:0]</code>）能够查询到的 location 数量的<strong><mark>上限</mark></strong>（即两条线但是只画出了 3 个location的话，address space 依然是 4）。</li>
</ul>
<h4 id="a_22-by-3-bit_memory">A 2^2-by-3-Bit Memory<a class="headerlink" href="#a_22-by-3-bit_memory" title="Permanent link">&para;</a></h4>
<ul>
<li><img alt="image-20230714111120293" src="ICS.assets/image-20230714111120293.png" /></li>
</ul>
<blockquote>
<p>In both cases, our notation A[high:low] and D[high:low] reflects the fact that we have numbered the bits of address and data from right to left, in order, starting with the rightmost bit, which is numbered 0.</p>
</blockquote>
<h3 id="36_sequential_logic_circuits">3.6 Sequential Logic Circuits<a class="headerlink" href="#36_sequential_logic_circuits" title="Permanent link">&para;</a></h3>
<p><img src="ICS.assets/image-20230714141124423.png" alt="image-20230714141124423" style="zoom:50%;" /></p>
<blockquote>
<p>In this section, we discuss digital logic structures that can <strong>both</strong> <mark>process information</mark> (i.e., make decisions) <strong>and</strong> <mark>store information</mark>.</p>
<p>Sequential logic circuits are used to implement a very important class of mechanisms called <strong><em>finite state machines</em></strong>.</p>
<p>They contain storage elements that allow them to keep track of prior history information.</p>
<p>Note also that the output can be dependent on <strong>both</strong> the inputs now <strong>and</strong> the values stored in the storage elements. The values stored in the storage elements reflect the history of what has happened before.(输出结果和输入值、历史状态都有关)</p>
</blockquote>
<h4 id="361_combination_lock">3.6.1 Combination Lock<a class="headerlink" href="#361_combination_lock" title="Permanent link">&para;</a></h4>
<p><img src="ICS.assets/image-20230714142458004.png" alt="image-20230714142458004" style="zoom: 50%;" /></p>
<ul>
<li>combination lock</li>
</ul>
<blockquote>
<p>Whether or not this lock opens is totally independent of the past rotations of the four wheels. The lock does not care at all about past rotations. The only thing important is the current value of each of the four wheels.</p>
<p>是否解开组合锁和旋转圈数等状态无关，只和<strong>当前</strong>的值有关</p>
</blockquote>
<ul>
<li>sequential lock</li>
</ul>
<blockquote>
<p>Because the lock stores the previous rotations and makes its decision (open or don’t open) on the basis of the the history of the past operations, that is, on the correct <em>sequence</em> being performed.</p>
</blockquote>
<h4 id="362_the_concept_of_state">3.6.2 The Concept of State<a class="headerlink" href="#362_the_concept_of_state" title="Permanent link">&para;</a></h4>
<blockquote>
<p>The state of a mechanism— more generally, the state of a system—is a snapshot of that system in which all relevant items are explicitly expressed.</p>
<p>That is: <em>The state of a system is a snapshot of all the relevant elements of the system at the moment the snapshot is taken.</em></p>
</blockquote>
<ul>
<li>examples：a combination lock, basketball games, tic-tac-toe</li>
</ul>
<h4 id="363_the_finite_state_machinefsm_and_its_state_diagram">3.6.3 The Finite State Machine(FSM) and its State Diagram<a class="headerlink" href="#363_the_finite_state_machinefsm_and_its_state_diagram" title="Permanent link">&para;</a></h4>
<h5 id="elements">Elements<a class="headerlink" href="#elements" title="Permanent link">&para;</a></h5>
<ol>
<li>a finite number of states</li>
<li>a finite number of external inputs</li>
<li>a finite number of external outputs</li>
<li>an explicit specification of all state transitions</li>
<li>an explicit specification of what determines each external output value.</li>
</ol>
<h5 id="combination_lock">Combination Lock<a class="headerlink" href="#combination_lock" title="Permanent link">&para;</a></h5>
<p><img src="ICS.assets/image-20230714143600361.png" alt="image-20230714143600361" style="zoom:50%;" /></p>
<blockquote>
<p>The explicit specifications of all state transitions are shown by the arrows in the state diagram. The more sophisticated term for “arrow” is <em>arc</em>. The arrowhead on each arc specifies which state the system is coming from and which state it is going to. </p>
</blockquote>
<ul>
<li>We refer to the state the system is coming from as the <strong><em>current state</em></strong>, and the state it is going to as the <em>next state</em>.</li>
<li>First, it is usually the case that from a current state there are <strong>multiple transitions</strong> to next states. The state transition that occurs depends on both the <strong>current state</strong> and the value of the <strong>external input</strong>.</li>
</ul>
<h4 id="364_the_synchronous_final_state_machine">3.6.4 The Synchronous Final State Machine<a class="headerlink" href="#364_the_synchronous_final_state_machine" title="Permanent link">&para;</a></h4>
<blockquote>
<p>On the contrary, we say that computers are <em>synchronous</em> because the state transitions take place, one after the other, at identical fixed units of time.(以一个相同的、固定的时间单位进行状态转换) They are controlled by a <em>synchronous finite state machine</em>. </p>
</blockquote>
<p>同步和异步的区别：同步状态机和异步状态机是状态机的两种基本类型。异步状态机状态在输出信号经过一段时间延时后变化时，时间无法预测。同步状态机状态变化由时钟信号控制。</p>
<p>换句话说，异步状态机的状态切换的时间间隔是不确定的，由操作触发。</p>
<h4 id="365_the_clock">3.6.5 The Clock<a class="headerlink" href="#365_the_clock" title="Permanent link">&para;</a></h4>
<blockquote>
<p>A clock circuit produces a signal, commonly referred to as <em>THE clock</em>, whose value alternates between 0 volts and some specified fixed voltage.</p>
</blockquote>
<h5 id="clock_cycle">Clock Cycle<a class="headerlink" href="#clock_cycle" title="Permanent link">&para;</a></h5>
<blockquote>
<p>Each of the repeated sequence of identical intervals is referred to as a <em>clock cycle</em>. </p>
<p>A clock cycle starts when the clock signal transitions from 0 to 1 and ends the next time the clock signal transitions from 0 to 1. （计算机界约定俗成，一个时钟周期从一个上升沿开始到下一个上升沿结束）</p>
</blockquote>
<p><img alt="image-20230714145414482" src="ICS.assets/image-20230714145414482.png" /></p>
<h4 id="366_the_traffic_controller_example">3.6.6 The Traffic Controller Example<a class="headerlink" href="#366_the_traffic_controller_example" title="Permanent link">&para;</a></h4>
<p><img src="ICS.assets/image-20230714145549068.png" alt="image-20230714145549068" style="zoom:33%;" /></p>
<p><img src="ICS.assets/image-20230714150417374.png" alt="image-20230714150417374" style="zoom:33%;" /></p>
<p><center>State Diagram</center></p>
<h5 id="the_sequential_logic_circuit">The Sequential Logic Circuit<a class="headerlink" href="#the_sequential_logic_circuit" title="Permanent link">&para;</a></h5>
<p><img src="ICS.assets/image-20230714150725095.png" alt="image-20230714150725095" style="zoom:50%;" /></p>
<h6 id="combinational_logic">Combinational Logic<a class="headerlink" href="#combinational_logic" title="Permanent link">&para;</a></h6>
<p><img src="ICS.assets/image-20230714150808850.png" alt="image-20230714150808850" style="zoom:50%;" /></p>
<ul>
<li>有四种State，所以使用两个Storage Element</li>
</ul>
<h6 id="the_problem_with_gated_latches">The Problem with Gated Latches<a class="headerlink" href="#the_problem_with_gated_latches" title="Permanent link">&para;</a></h6>
<blockquote>
<p>The problem is the gated D latch. We want the output of OR gates Y and Z to transition to the next state at the end of the current clock cycle and allow the current state to remain unchanged until then. That is, we do not want the input to the storage elements to take effect until the end of the current clock cycle. Since the output of a gated D latch changes immediately in response to its input if the Write Enable signal is asserted, it cannot be the storage element for our synchronous finite state machine. </p>
<p>在当前时钟周期内。存储单元的输出是逻辑电路的一个输入，逻辑电路会因此改变，但逻辑电路的输出又是存储单元的输入。该输入应该等到下一个时钟周期才能写入存储单元，如果使用D Gated Latch，那么就会一直改变。</p>
</blockquote>
<h6 id="master-slave_flip-flop">Master-slave flip-flop （主从锁存器）<a class="headerlink" href="#master-slave_flip-flop" title="Permanent link">&para;</a></h6>
<p><img src="ICS.assets/image-20230714152956146.png" alt="image-20230714152956146"  /></p>
<ul>
<li>Clock为 1，Master不可写，Slave可写，Master存储的数据写入Slave中，Slave写入逻辑电路中，整个电路进入下一个状态。
  Clock为 0，Master可写，Slave不可写，Slave保存的依旧是前一个状态，不会改变逻辑电路的状态。Master存入下一个状态的数据，为下一个状态做准备。</li>
<li>Flip-flop实现了按照时钟周期读写，并且是用时钟控制WE。</li>
</ul>
<p><img alt="image-20230714154039126" src="ICS.assets/image-20230714154039126.png" /></p>
<ul>
<li>prop delay: 传播延迟</li>
</ul>
<h3 id="37_the_data_path_of_lc-3">3.7 The Data Path of LC-3<a class="headerlink" href="#37_the_data_path_of_lc-3" title="Permanent link">&para;</a></h3>
<blockquote>
<p>The data path consists of all the logic structures that combine to process information in the core of the computer.</p>
</blockquote>
<p><img alt="image-20230715093533794" src="ICS.assets/image-20230715093533794.png" /></p>
<h4 id="register">Register<a class="headerlink" href="#register" title="Permanent link">&para;</a></h4>
<blockquote>
<p>It is a temporary location</p>
<p>A register is simply a set of <em>n</em> flip-flops that collectively are used to store one <em>n</em>-bit value.</p>
<p>In fact, a register can be any size that we need. </p>
<p>We usually need flip-flops, rather than latches, because it is usually important to be able to both read the contents of a register throughout a clock cycle and also store a new value in the register at the end of that same clock cycle.</p>
</blockquote>
<ul>
<li><strong>PC, IR, MAR, and MDR</strong> are all 16-bit registers that store 16 bits of information each</li>
<li>The block labeled <strong>REG FILE</strong> consists of <strong>eight registers</strong> that each store <strong>16 bits</strong> of information. </li>
<li>The data path also shows three 1-bit registers, <em>N</em>, <em>Z</em>, and <em>P</em>.</li>
</ul>
<p><img alt="image-20230714155401065" src="ICS.assets/image-20230714155401065.png" /></p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> 为什么register要用flip-flop，不能用latch。时序逻辑电路对register有什么要求？</li>
</ul>
<blockquote>
<p>在「组合电路」中，微小的信号传输迟延，都有可能造成输出毛刺。尽管毛刺是一个极其短暂的信号，但也可以引起逻辑电路的误动作。为了回避这个问题，就要使用时钟同步电路。如图所示，其构造是在FF（触发器）之间夹着「组合电路」。毛刺是「组合电路」在输出稳定之前，输出的短暂信号。因此，在「组合电路」输出稳定以后，再改变时钟，用触发器保持这个输出，就可以回避这种误动作了。
<img alt="img" src="ICS.assets/v2-6798e2eb51badec7d6d8343f3f929a88_1440w.webp" /></p>
</blockquote>
<ul>
<li>所以尽管锁存器可能可以实现需求，但是因为信号传输延迟，使用寄存器（由FF组成）可以使电路更加稳定</li>
</ul>
<h2 id="chapter_4_the_von_neumann_model">Chapter 4 The von Neumann Model<a class="headerlink" href="#chapter_4_the_von_neumann_model" title="Permanent link">&para;</a></h2>
<h3 id="41_basic_components">4.1 Basic Components<a class="headerlink" href="#41_basic_components" title="Permanent link">&para;</a></h3>
<blockquote>
<p>The <em>instruction</em> is the smallest piece of work specified in a computer program. </p>
<p>The von Neumann model consists of five parts: <em>memory, a processing unit, input, output</em>, and <em>a control unit</em>. </p>
<p>The computer program is contained in the computer’s memory. 
The data the program needs to carry out the work of the program is either contained in the program’s memory or is obtained from the input devices. 
The results of the program’s execution are provided by the output devices.
The order in which the instructions are carried out is performed by the control unit.</p>
<p>也可以被分为三部分，CPU(包含控制和操作单元)，MEMORY，I/O</p>
</blockquote>
<p><img alt="image-20230714161100767" src="ICS.assets/image-20230714161100767.png" /></p>
<h4 id="input_and_output">Input and Output<a class="headerlink" href="#input_and_output" title="Permanent link">&para;</a></h4>
<blockquote>
<p>In order for a computer to process information, the information must get into the computer. </p>
<p>In order to use the results of that processing, those results must be displayed in some fashion outside the computer. </p>
</blockquote>
<h4 id="memory">Memory<a class="headerlink" href="#memory" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>a typical memory in today’s world of computers consists of 2<sup>34</sup>（16GB） distinct memory locations, each of which is capable of storing eight bits of information. </p>
</li>
<li>
<p>To read the contents of a memory location, we first place the address of that location in the memory’s address register (<strong>MAR</strong>) and then interrogate the computer’s memory. The information stored in the location having that address will be placed in the memory’s data register (<strong>MDR</strong>). </p>
</li>
<li>
<p>To write (or store) a value in a memory location, we first write the address of the memory location in the MAR, and the value to be stored in the MDR. 
  We then interrogate the computer’s memory with the write enable signal asserted. 
  The information contained in the MDR will be written into the memory location whose address is in the MAR.</p>
</li>
<li>
<p>two characteristics of a memory location: its address and what is stored there.</p>
</li>
</ul>
<h4 id="computation_unit_processing_unit">Computation Unit / Processing Unit<a class="headerlink" href="#computation_unit_processing_unit" title="Permanent link">&para;</a></h4>
<blockquote>
<p>The actual processing of information in the computer is carried out by the <em>processing unit</em>.</p>
</blockquote>
<ul>
<li>ALU
  The ALU normally processes data elements of a fixed size referred to as the <em>word length</em> of the computer. The data elements are called <em>words</em>.
  In the LC-3, the ALU processes 16-bit words. We say the LC-3 has a word length of 16 bits.</li>
<li>Temporary locations
  Because the time it takes to access memory is long compared to the time it takes to perform the ADD or MULTIPLY. The most common form of temporary storage is a set of registers. The size of each register is identical to the size of values processed by the ALU; that is, they each contain one word.</li>
</ul>
<h4 id="control_unit">Control Unit<a class="headerlink" href="#control_unit" title="Permanent link">&para;</a></h4>
<blockquote>
<p>It is the control unit that keeps track of both where we are within the process of executing the program and where we are in the process of executing each instruction.</p>
</blockquote>
<ul>
<li>IR (instruction register)
  To keep track of which instruction is being executed, the control unit has an <em>instruction register</em> to contain that instruction.</li>
<li>PC (program counter)
  To keep track of which instruc- tion is to be processed next, the control unit has a register that contains the next instruction’s address.</li>
</ul>
<h3 id="42_the_lc-3">4.2 The LC-3<img alt="image-20230714202605926" src="ICS.assets/image-20230714202605926.png" /><a class="headerlink" href="#42_the_lc-3" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong>Filled-in arrowheads</strong>: data elements that flow along the corresponding paths.</p>
</li>
<li>
<p><strong>Not-filled-in arrowheads</strong>: control signals that control the processing of the data elements. </p>
</li>
<li>
<p><strong>MEMORY</strong></p>
</li>
<li>
<p>storage elements</p>
</li>
<li>
<p><strong>Memory Address Register (MAR)</strong> </p>
<blockquote>
<p>for addressing individual locations.</p>
<p>Note that the MAR contains 16 bits, reflecting the fact that the memory address space of the LC-3 is <mark>2<sup>16</sup></mark> memory locations.</p>
</blockquote>
</li>
<li>
<p><strong>Memory Data Register (MDR)</strong> </p>
<blockquote>
<p>for holding the contents of a memory location on its way to/from the storage.  </p>
<p>The MDR contains 16 bits, reflecting the fact that each memory location contains 16 bits—that is, the LC-3 is <mark>16-bit addressable</mark>.</p>
</blockquote>
</li>
<li>
<p><strong>INPUT/OUTPUT</strong> </p>
</li>
<li>
<p>a keyboard and a monitor. </p>
</li>
<li>
<p><strong>a keyboard data register (KBDR)</strong></p>
<blockquote>
<p>for holding the ASCII codes of keys struck</p>
</blockquote>
</li>
<li>
<p><strong>a keyboard status register (KBSR)</strong> </p>
<blockquote>
<p>for maintaining status information about the keys struck. </p>
</blockquote>
</li>
<li>
<p><strong>a display data register (DDR)</strong> </p>
<blockquote>
<p>for holding the ASCII code of something to be displayed on the screen and </p>
</blockquote>
</li>
<li>
<p><strong>a display status register (DSR)</strong></p>
<blockquote>
<p>for maintaining associated status information. </p>
</blockquote>
</li>
<li>
<p><strong>THE PROCESSING UNIT</strong> </p>
</li>
<li>a functional unit (ALU) Algorithm and Logic Unit</li>
</ul>
<blockquote>
<p>perform arithmetic and logic operations. The LC-3 ALU can perform one arithmetic operation (addition) and two logical operations (bitwise AND and bitwise NOT).</p>
</blockquote>
<ul>
<li>eight registers (R0, &hellip; R7)</li>
</ul>
<blockquote>
<p>for storing temporary values that will be needed in the near future as operands for subsequent instructions. </p>
</blockquote>
<ul class="task-list">
<li>
<p><strong>THE CONTROL UNIT</strong> </p>
</li>
<li>
<p>Its most important structure is the <strong>finite state machine</strong>, which directs all the activity. </p>
</li>
<li>
<p>Note the CLK input to the finite state machine in Figure 4.3. It specifies how long each clock cycle lasts. </p>
</li>
<li>
<p>The <strong>instruction register (IR)</strong> is also an input to the finite state machine since the LC-3 instruction being processed determines what activities must be carried out. </p>
</li>
<li>
<p>The <strong>program counter (PC)</strong> is also a part of the control unit; it keeps track of the next instruction to be executed after the current instruction finishes.</p>
</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> 为什么需要有限状态机？记录了什么状态？finite state machine记录了指令循环的状态（fetch（state1～3）-decode（state4）-evaluate address-get data-execute-store data</p>
</li>
</ul>
<p><img src="ICS.assets/image-20230715080743261.png" alt="image-20230715080743261" style="zoom: 50%;" /></p>
<p><img alt="image-20230715081554287" src="ICS.assets/image-20230715081554287.png" /></p>
<blockquote>
<p>State33 里的R指的是Ready，即内存是否读取完成</p>
</blockquote>
<h3 id="43_instruction_processing">4.3 Instruction Processing<a class="headerlink" href="#43_instruction_processing" title="Permanent link">&para;</a></h3>
<h4 id="431_the_instruction">4.3.1 The instruction<a class="headerlink" href="#431_the_instruction" title="Permanent link">&para;</a></h4>
<blockquote>
<p>The most basic unit of computer processing is the instruction.It is made up of two parts, the <em>opcode</em> (what the instruction does) and the <em>operands</em> (who it does it to!).</p>
<p>There are fundamentally three kinds of instructions: <em>operates</em>, <em>data movement</em>, and <em>control</em>, although many ISAs have some special instructions that are necessary for those ISAs.</p>
</blockquote>
<ul>
<li><strong>Operate</strong> instructions operate on data. The LC-3 has three operate instructions: one arithmetic (ADD) and two logicals (AND and NOT). </li>
<li><strong>Data movement</strong> instructions move information from the processing unit to and from memory and to and from input/output devices. The LC-3 has six data movement instructions.</li>
<li><strong>Control</strong> instructions are necessary for altering the sequential processing of instructions.</li>
</ul>
<h5 id="the_addand_instruction">The ADD/AND Instruction<a class="headerlink" href="#the_addand_instruction" title="Permanent link">&para;</a></h5>
<p>operands: two source operands and one destination operand</p>
<p>[15:12] opcode
[11:9] location for sorting the result
[8:6] one source operand
[5] determine whether to add / and an operand from register or immediately</p>
<p>立即数的范围是-16～15</p>
<h5 id="the_ld_instruction">The LD Instruction<a class="headerlink" href="#the_ld_instruction" title="Permanent link">&para;</a></h5>
<blockquote>
<p>go to a particular memory location, read the value that is contained there, and store that value in one of the registers</p>
</blockquote>
<p>operands: 2
addressing mode: PC+offset</p>
<p>[15:12] opcode
[11:9] the register to contain the value from the memory
[8:0] the offset</p>
<h4 id="432_the_instruction_cycle">4.3.2 The Instruction Cycle<a class="headerlink" href="#432_the_instruction_cycle" title="Permanent link">&para;</a></h4>
<blockquote>
<p>Instructions are processed under the direction of the control unit in a very systematic, step-by-step manner. </p>
<p>The entire sequence of steps needed to process an instruction is called the <em>instruction cycle</em>. </p>
<p>The instruction cycle consists of six sequential <strong><em>phases</em></strong>, each phase requiring zero or more steps.</p>
</blockquote>
<h5 id="4321_fetch">4.3.2.1 Fetch<a class="headerlink" href="#4321_fetch" title="Permanent link">&para;</a></h5>
<p>Step 1: Load the <strong>MAR</strong> with the contents of the <strong>PC</strong>, and simultaneously <mark>increment the PC</mark>.(one clock cycle)
Step 2: Interrogate memory, resulting in the instruction being placed in the <strong>MDR</strong>. (one or many clock cycles depending on how long it takes to access the computer’s memory)
Step 3: Load the <strong>IR</strong> with the contents of the MDR.(one clock cycle)</p>
<h5 id="4322_decode">4.3.2.2 Decode<a class="headerlink" href="#4322_decode" title="Permanent link">&para;</a></h5>
<blockquote>
<p>The DECODE phase examines the instruction in order to figure out what the microarchitecture is being asked to do.</p>
</blockquote>
<p>input: opcode IR[15:12]
output:corresponding to the opcode</p>
<h5 id="4323_evaluate_address">4.3.2.3 Evaluate Address<a class="headerlink" href="#4323_evaluate_address" title="Permanent link">&para;</a></h5>
<p>只有需要特殊寻址模式（PC+offset、Base+offset、间接寻址等）才需要这一阶段，从寄存器、从指令中读取操作数不需要计算地址</p>
<blockquote>
<p>the ADD and AND instructions in the LC-3 obtain their source operands from registers or from the instruction itself and store the result of the ADD or AND instruction in a register. For those instructions, the EVALUATE ADDRESS phase is not needed.</p>
</blockquote>
<h5 id="4324_fetch_operands">4.3.2.4 Fetch Operands<a class="headerlink" href="#4324_fetch_operands" title="Permanent link">&para;</a></h5>
<p>LD，把计算的地址写入MAR，从内存中读数据到MDR中。
ADD，从寄存器中读数据。</p>
<ul>
<li>Note：In most current microprocessors, this phase (for the ADD instruction) can be done <strong>at the same time</strong> the instruction is being executed (the fifth phase of the instruction cycle)</li>
</ul>
<h5 id="4325_execute">4.3.2.5 Execute<a class="headerlink" href="#4325_execute" title="Permanent link">&para;</a></h5>
<p>ADD，在ALU中执行加法</p>
<h5 id="4326_store_result">4.3.2.6 Store Result<a class="headerlink" href="#4326_store_result" title="Permanent link">&para;</a></h5>
<blockquote>
<p>In the case of the ADD instruction, in many computers this action is performed during the EXECUTE phase. That is, in many computers, including the LC-3, an ADD instruction can fetch its source operands, perform the ADD in the ALU, and store the result in the destination register all in a single clock cycle.</p>
</blockquote>
<p>LD，把数据写入寄存器</p>
<h5 id="_2">一些特例（不一定需要所有阶段）<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h5>
<blockquote>
<p>As already pointed out, the LC- 3 ADD instruction does not require a separate EVALUATE ADDRESS phase or a separate STORE RESULT phase. 
The LC-3 LD instruction does not require an EXECUTE phase. On the other hand, there are instructions in other ISAs that require all six phases.</p>
</blockquote>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> 每个阶段到底都做了那些事情？（从内存中取数据放入MDR）</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> 每个阶段需要多少个Clock Cycle？</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> 每条指令都需要所有阶段吗？</li>
</ul>
<h4 id="433_change_the_sequence_of_execution">4.3.3 Change the Sequence of Execution<a class="headerlink" href="#433_change_the_sequence_of_execution" title="Permanent link">&para;</a></h4>
<h5 id="the_br_instruction">The BR Instruction<a class="headerlink" href="#the_br_instruction" title="Permanent link">&para;</a></h5>
<p>[15:12] opcode
[11:9] condition
[8:0] value added to incremented PC</p>
<p>寻址模式：PC+offset</p>
<h4 id="434_control_of_the_instruction_cycle">4.3.4 Control of the Instruction Cycle<a class="headerlink" href="#434_control_of_the_instruction_cycle" title="Permanent link">&para;</a></h4>
<blockquote>
<p>As is the case with the finite state machines studied in Section 3.6, each state corresponds to one machine cycle of activity that takes one clock cycle to perform. The processing controlled by each state is described within the node representing that state. The arcs show the next state transitions.</p>
</blockquote>
<p>Fetch(3 CC)
Decode(1 CC)
继续按照时钟周期一步一步执行指令，直到结束，然后回到State1</p>
<h4 id="435_halting_the_computerthe_trap_instruction">4.3.5 Halting the Computer(the Trap instruction)<a class="headerlink" href="#435_halting_the_computerthe_trap_instruction" title="Permanent link">&para;</a></h4>
<p><img alt="image-20230715081739606" src="ICS.assets/image-20230715081739606.png" /></p>
<p>A block diagram of the clock circuit, consisting primarily of a clock generator and a RUN latch</p>
<h5 id="run_latch">RUN latch<a class="headerlink" href="#run_latch" title="Permanent link">&para;</a></h5>
<ul>
<li>Q = 1, output = 1. Q = 0, output = 0</li>
<li>Stopping the instruction cycle requires only clearing the RUN latch.</li>
</ul>
<blockquote>
<p><em>Question:</em> If a HALT instruction can clear the RUN latch, thereby stopping the instruction cycle, what instruction is needed to set the RUN latch, thereby reinitiating the instruction cycle? <em>Hint:</em> This is a trick question!</p>
<p>Answer: No! 因为在停止时钟周期后其他的指令都不再被执行，也就是说，即使你有一个恢复RUN latch的指令也不会被执行。</p>
</blockquote>
<h5 id="trap_instruction">TRAP Instruction<a class="headerlink" href="#trap_instruction" title="Permanent link">&para;</a></h5>
<ul>
<li>In some older machines, it is done by executing a HALT instruction. In the LC-3, as in many other machines, it is done under control of the operating system.</li>
<li>if a user program requires help from the operating system, it requests that help with the TRAP instruction (opcode = 1111) and an eight-bit code called a <em>trap vector</em>, which identifies the help that the user program needs. The eight-bit code x25 tells the operating system that the program has finished executing and the computer can stop processing instructions.(用户通过TRAP指令向操作系统求助，依据trap vector来确定需要的帮助，可以实现如停止运行程序等操作)</li>
</ul>
<h2 id="chapter_5_the_lc-3">Chapter 5 The LC-3<a class="headerlink" href="#chapter_5_the_lc-3" title="Permanent link">&para;</a></h2>
<h3 id="51_the_isa_overview">5.1 The ISA Overview<a class="headerlink" href="#51_the_isa_overview" title="Permanent link">&para;</a></h3>
<blockquote>
<p>The ISA specifies all the information about the computer that the software has to be aware of. In other words, the ISA specifies everything in the computer that is available to a programmer when he/she writes programs in the com- puter’s own machine language.</p>
<p>The ISA specifies the memory organization, register set, and instruction set, including the opcodes, data types, and addressing modes of the instructions in the instruction set.</p>
</blockquote>
<h4 id="511_memory_organization">5.1.1 Memory Organization<a class="headerlink" href="#511_memory_organization" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>address space:2<sup>16</sup>       addressability:16bits       one word:16bits</p>
</li>
<li>
<p>LC-3 is <strong>word-addressable</strong></p>
</li>
<li>
<p>不是所有locations都用来存储数据</p>
</li>
</ul>
<h4 id="512_register">5.1.2 Register<a class="headerlink" href="#512_register" title="Permanent link">&para;</a></h4>
<blockquote>
<p>The most common type of temporary storage locations, and the one used in the LC-3, is a set of registers. Each register in the set is called a <strong><em>general purpose register</em> (GPR).</strong> </p>
<p>PC和IR是有特殊用途的寄存器，或者NZP这三个存Condition codes的一位寄存器</p>
<p>The number of bits stored in each register is usually one word. In the LC-3, this means 16 bits.</p>
<p>Registers must be uniquely identifiable. The LC-3 specifies eight GPRs, each identified by a three-bit register number. They are referred to as R0, R1, &hellip; R7. Figure 5.1 shows a snapshot of the LC-3’s register set, sometimes called a <em>register file</em>, with the eight values 1, 3, 5, 7, −2, −4, −6, and −8 stored in R0, &hellip; R7, respectively.</p>
<p><img src="ICS.assets/image-20230715141711676.png" alt="image-20230715141711676" style="zoom:50%;" /></p>
</blockquote>
<h4 id="513_instruction_set">5.1.3 Instruction Set<a class="headerlink" href="#513_instruction_set" title="Permanent link">&para;</a></h4>
<blockquote>
<p>The instruction set is defined by its set of <strong>opcodes, <em>data types</em>, and <em>addressing modes</em>.</strong></p>
<p>The addressing modes determine where the operands are located. The data type is the representation of the operands in 0s and 1s.</p>
</blockquote>
<p><img src="ICS.assets/image-20230715142431632.png" alt="image-20230715142431632" style="zoom: 50%;" /><img src="ICS.assets/image-20230715142512633.png" alt="image-20230715142512633" style="zoom:50%;" /></p>
<h4 id="514_opcodes">5.1.4 Opcodes<a class="headerlink" href="#514_opcodes" title="Permanent link">&para;</a></h4>
<blockquote>
<p>The LC-3 ISA has 15 instructions, each identified by its unique opcode. The opcode is specified in bits [15:12] of the instruction. The opcode <code>1101</code> has been left unspecified, reserved for some future need.</p>
</blockquote>
<p><a href="#4.3.1 The instruction">Three kinds discussed as before</a>(operate, data movement, control)</p>
<ul>
<li>Operate instructions: ADD, AND, NOT</li>
<li>Data movement instructions: LD, LDI, LDR, LEA, ST, STR, STI</li>
<li>Control instructions: BR, JSR/JSRR, JMP, RTI, TRAP</li>
</ul>
<h4 id="515_data_types">5.1.5 Data Types<a class="headerlink" href="#515_data_types" title="Permanent link">&para;</a></h4>
<p>16位二进制补码</p>
<h4 id="516_addressing_mode">5.1.6 Addressing Mode<a class="headerlink" href="#516_addressing_mode" title="Permanent link">&para;</a></h4>
<blockquote>
<p>An addressing mode is a mechanism for specifying where the operand is located.</p>
<p>An operand can generally be found in one of three places: in memory, in a register, or as a part of the instruction.</p>
</blockquote>
<ul>
<li><strong>Literal / Immediate operand</strong>: the operand is a part of the instrution</li>
<li>5 addressing modes (3 memory addressing modes)</li>
<li>non-memory addresses: immediate, register</li>
<li>memory addresses: PC-relative, indirect, base+offset</li>
</ul>
<h4 id="517_condition_codescc">5.1.7 Condition Codes(CC)<a class="headerlink" href="#517_condition_codescc" title="Permanent link">&para;</a></h4>
<blockquote>
<p>The LC-3 has three single-bit registers that are individually set (set to 1) or cleared (set to 0) each time one of the eight general purpose registers is written into as a result of execution of one of the <strong>operate instructions</strong> or one of the <strong>load instructions</strong>.</p>
<ul>
<li>
<p>Each operate instruction performs a computation and writes the result into a general purpose register. </p>
</li>
<li>
<p>Each load instruction reads the contents of a memory location and writes the value found there into a general purpose register.</p>
</li>
</ul>
</blockquote>
<ul>
<li>只有三种opcode(NOT AND ADD)和三种load指令会重设NZP的值。数据移动指令会根据数据内容重设，操作指令会根据计算结果重设NZP。</li>
<li>
<p>Note：<strong>LEA不改变NZP！</strong></p>
</li>
<li>
<p><strong>Three single-bit registers N(negative), Z(zero), P(positive)</strong></p>
</li>
</ul>
<blockquote>
<p>The set of three single-bit registers are referred to as <em>condition codes</em> because the condition of those bits are used to change the sequence of execution of the instructions in a computer program.</p>
<p>这些条件码在程序的运行中作为改变运行顺序的判断依据</p>
</blockquote>
<h3 id="52_operate_instructions_not_and_add">5.2 Operate Instructions (NOT, AND, ADD)<a class="headerlink" href="#52_operate_instructions_not_and_add" title="Permanent link">&para;</a></h3>
<h5 id="not">NOT<a class="headerlink" href="#not" title="Permanent link">&para;</a></h5>
<blockquote>
<p>the only operate instruction that performs a <em>unary</em> operation</p>
</blockquote>
<p><img src="ICS.assets/image-20230715162011424.png" alt="image-20230715162011424" style="zoom:50%;" /></p>
<h5 id="add_and">ADD / AND<a class="headerlink" href="#add_and" title="Permanent link">&para;</a></h5>
<p><img alt="image-20230715162112054" src="ICS.assets/image-20230715162112054.png" /><img alt="image-20230715162126914" src="ICS.assets/image-20230715162126914.png" /></p>
<h4 id="immediates_example">Immediates Example<a class="headerlink" href="#immediates_example" title="Permanent link">&para;</a></h4>
<p><img src="ICS.assets/image-20230715145935666.png" alt="image-20230715145935666" style="zoom:50%;" /></p>
<h5 id="applications">Applications<a class="headerlink" href="#applications" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p>Subtract: R3 = R1 - R2
  Take 2’s complement of R2, then add to R1.
  (1) R2 = NOT(R2)
  (2) R2 = R2 + 1
  (3) R3 = R1 + R2</p>
</li>
<li>
<p>OR: R3 = R1 OR R2
 Use DeMorgan’s Law &ndash; invert R1 and R2, AND, then invert result.
  (1) R1 = NOT(R1)
  (2) R2 = NOT(R2)
  (3) R3 = R1 AND R2
  (4) R3 = NOT(R3)</p>
</li>
<li>
<p>Register-to-register copy: R3 = R2
R3 = R2 + 0 (Add-immediate)</p>
</li>
<li>
<p>Initialize to zero: R1 = 0
R1 = R1 AND 0 (And-immediate)</p>
</li>
</ul>
<h4 id="the_lea_instructionload_effective_address">The LEA instruction(Load Effective Address)<a class="headerlink" href="#the_lea_instructionload_effective_address" title="Permanent link">&para;</a></h4>
<blockquote>
<p>It does not really operate on data, it simply loads a register with an address. It clearly does not move data from memory to a register, nor is it a control instruction. </p>
<p>Note that the value to be loaded into the register does <strong>not</strong> involve any access to memory. &hellip;nor does it have any effect on the condition codes.（相当于直接把PC的内容复制到Register中）</p>
</blockquote>
<p><img src="ICS.assets/image-20230715152410700.png" alt="image-20230715152410700" style="zoom:50%;" /></p>
<ul>
<li>the LEA instruction is useful to initialize a register with an address that is very close to the address of the instruction doing the initializing.</li>
<li>把地址值写入到寄存器中，可以配合有base+offset寻址模式的指令使用</li>
<li>LEA不改变Condition codes</li>
</ul>
<h3 id="53_data_movement_instructions">5.3 Data Movement Instructions<a class="headerlink" href="#53_data_movement_instructions" title="Permanent link">&para;</a></h3>
<blockquote>
<p>The process of moving information from memory to a register is called a <em>load</em>, and the process of moving information from a register to memory is called a <em>store</em>.</p>
</blockquote>
<ul>
<li>The LC-3 contains six instructions that move information: <strong>LD, LDR, LDI, ST, STR, and STI.</strong></li>
</ul>
<p><img alt="image-20230715152627496" src="ICS.assets/image-20230715152627496.png" /></p>
<ul>
<li>
<p>require two operands, a source and a destination. 
  One of these locations is a <strong>register,</strong> the other is <strong>a memory location or an input/output device.</strong>（需要两个操作数，一个是寄存器，另一个是内存地址或IO设备）</p>
</li>
<li>
<p>Bits [11:9] specify the register. </p>
</li>
</ul>
<blockquote>
<p>If the instruction is a load, <em>DR</em> refers to the destination general purpose register that will contain the value after it is read from memory (at the completion of the instruction cycle). If the instruction is a store, <em>SR</em> refers to the register that contains the value that will be written to memory.</p>
</blockquote>
<ul>
<li>Bits [8:0] contain the <em>address generation bits</em></li>
</ul>
<h4 id="531_pc-relative_mode">5.3.1 PC-Relative Mode<a class="headerlink" href="#531_pc-relative_mode" title="Permanent link">&para;</a></h4>
<ul>
<li>The memory address is computed by sign-extending bits [8:0] to 16 bits and adding the result to the incremented PC. </li>
<li>限制：只能读写LD和ST指令附近（-255～256）（PC++）的地址</li>
</ul>
<p><strong>LD and ST</strong></p>
<h4 id="532_indirect_mode">5.3.2 Indirect Mode<a class="headerlink" href="#532_indirect_mode" title="Permanent link">&para;</a></h4>
<blockquote>
<p>However, instead of this address being the <strong>address of the operand</strong> to be loaded or stored, it is <strong>the address</strong> of the address of the operand to be loaded or stored.</p>
</blockquote>
<ul>
<li>先通过PC-Relative获得目标地址（内存），再执行一次LD把目标内容存入寄存器。</li>
</ul>
<p><strong>LDI and STI</strong></p>
<h4 id="533_baseoffset_mode">5.3.3 Base+offset Mode<a class="headerlink" href="#533_baseoffset_mode" title="Permanent link">&para;</a></h4>
<blockquote>
<p>The Base+offset mode is so named because the address of the operand is obtained by adding a sign-extended six-bit offset to a base register.</p>
</blockquote>
<p>[5:0] 6 bits offset
[8:6] base register</p>
<ul>
<li>Note that the Base+offset addressing mode also allows the address of the operand to be anywhere in the computer’s memory. (可以访问任何位置)</li>
</ul>
<p><strong>LDR and STR</strong></p>
<h3 id="54_control_instructions">5.4 Control Instructions<a class="headerlink" href="#54_control_instructions" title="Permanent link">&para;</a></h3>
<blockquote>
<p>The LC-3 has five opcodes that enable the sequential execution flow to be broken: conditional branch, unconditional jump, subroutine call (sometimes called <em>function</em>), TRAP, and RTI (Return from Trap or Interrupt).</p>
</blockquote>
<h4 id="541_conditional_branches">5.4.1 Conditional Branches<a class="headerlink" href="#541_conditional_branches" title="Permanent link">&para;</a></h4>
<h5 id="bropcode_0000">BR(<code>opcode = 0000</code>)<a class="headerlink" href="#bropcode_0000" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p>LC-3 has three condition code registers:  N &ndash; negative   Z &ndash; zero   P &ndash; positive (greater than zero)</p>
</li>
<li>
<p>Set by any instruction that writes a value to a register(ADD, AND, NOT, LD, LDR, LDI, LEA)</p>
</li>
<li>
<p>Exactly one will be set at all times (Based on the last instruction that altered a register)</p>
</li>
<li>
<p>If the set bit is specified, the branch is taken.
  PC-relative addressing:target address is made by adding signed offset (IR[8:0])to current PC.
  Note: PC has already been incremented by FETCH stage.
  Note: Target must be within 256 words of BR instruction.</p>
</li>
<li>
<p>If the branch is not taken, the next sequential instruction is executed.</p>
</li>
<li><img alt="image-20230715163512120" src="ICS.assets/image-20230715163512120.png" /><img alt="image-20230715163518443" src="ICS.assets/image-20230715163518443.png" /></li>
</ul>
<h5 id="jmpopcode_1100">JMP(<code>opcode = 1100</code>)<a class="headerlink" href="#jmpopcode_1100" title="Permanent link">&para;</a></h5>
<p>Target address is the contents of a register.
Allows any target address.</p>
<p>一般将<code>LEA</code>和<code>JMP</code>搭配使用，（因为可以通过ADD操作register）这样就可以到达任何一个地址（理论上）。单独看LEA+JMP和BR的操作范围其实没有区别，因为都是9bits的offset（在BR和LEA中确定），主要区别就是在灵活操作register（可以直接通过内存LD地址内容）。</p>
<p><img alt="image-20230715163622714" src="ICS.assets/image-20230715163622714.png" /><img alt="image-20230715163626760" src="ICS.assets/image-20230715163626760.png" /></p>
<h5 id="trapopcode_1111">TRAP(<code>opcode = 1111</code>)<a class="headerlink" href="#trapopcode_1111" title="Permanent link">&para;</a></h5>
<p><img alt="image-20230715163705063" src="ICS.assets/image-20230715163705063.png" /></p>
<table>
<thead>
<tr>
<th><strong>vector</strong></th>
<th><strong>routine</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>x23</strong></td>
<td><strong>input  a character from the keyboard</strong></td>
</tr>
<tr>
<td><strong>x21</strong></td>
<td><strong>output  a character to the monitor</strong></td>
</tr>
<tr>
<td><strong>x25</strong></td>
<td><strong>halt  the program</strong></td>
</tr>
</tbody>
</table>
<p>The TRAP instruction, often called <em>service call</em>, is useful because it allows a programmer to get help from the operating system to do things that the typical programmer does not fully understand how to do.</p>
<h5 id="two_method_of_loop_control">Two Method of Loop Control<a class="headerlink" href="#two_method_of_loop_control" title="Permanent link">&para;</a></h5>
<ul>
<li>Counter</li>
<li>Sentinel
  The end of a file is a &ldquo;EOF&rdquo;</li>
</ul>
<h3 id="56_the_data_path_revisited">5.6 The Data Path Revisited<a class="headerlink" href="#56_the_data_path_revisited" title="Permanent link">&para;</a></h3>
<h4 id="561_basic_component">5.6.1 Basic Component<a class="headerlink" href="#561_basic_component" title="Permanent link">&para;</a></h4>
<h5 id="the_global_bus">The Global Bus<a class="headerlink" href="#the_global_bus" title="Permanent link">&para;</a></h5>
<blockquote>
<p>This triangle (called a <em>tristate device</em>) allows the computer’s control logic to enable <mark>exactly one</mark> supplier to provide information to the bus at any one time. The structure wishing to obtain the value being supplied can do so by asserting its LD.x (load enable) signal (recall our discussion of gated latches in Section 3.4.2). (LD指令是允许从BUS写入该单元)</p>
</blockquote>
<h2 id="chapter_6_programming">Chapter 6 Programming<a class="headerlink" href="#chapter_6_programming" title="Permanent link">&para;</a></h2>
<p><img alt="image-20230716164938460" src="ICS.assets/image-20230716164938460.png" /></p>
<h3 id="code_for_conditional">Code for Conditional<a class="headerlink" href="#code_for_conditional" title="Permanent link">&para;</a></h3>
<p><img alt="image-20230716165239913" src="ICS.assets/image-20230716165239913.png" /></p>
<h3 id="code_for_iteration">Code for Iteration<a class="headerlink" href="#code_for_iteration" title="Permanent link">&para;</a></h3>
<p><img alt="image-20230716165325366" src="ICS.assets/image-20230716165325366.png" /></p>
<h2 id="chapter_7_assembly_language">Chapter 7 Assembly Language<a class="headerlink" href="#chapter_7_assembly_language" title="Permanent link">&para;</a></h2>
<h3 id="71_assembly_language_programmingmoving_up_a_level">7.1 Assembly Language Programming—Moving Up a Level<a class="headerlink" href="#71_assembly_language_programmingmoving_up_a_level" title="Permanent link">&para;</a></h3>
<ul>
<li>在一个高级语言程序被执行之前，会被翻译成多条ISA内的指令。</li>
</ul>
<h3 id="72_an_assembly_language_program">7.2 An Assembly Language Program<a class="headerlink" href="#72_an_assembly_language_program" title="Permanent link">&para;</a></h3>
<blockquote>
<p>The translation program is called an <em>assembler</em> (in this case the LC-3 assembler), and the translation process is called <em>assembly</em>.</p>
</blockquote>
<h4 id="721_instructions">7.2.1 Instructions<a class="headerlink" href="#721_instructions" title="Permanent link">&para;</a></h4>
<p><strong>Instructions</strong></p>
<p>4 parts: <code>Label   Opcode   Operands   ; Comment</code> 
Two of the parts (Label and Comment) are optional.</p>
<h5 id="7211_opcodes_and_operands">7.2.1.1 Opcodes and Operands<a class="headerlink" href="#7211_opcodes_and_operands" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p>mandatory</p>
</li>
<li>
<p>operands can be obtained from registers , memory or literal values in the instruction.</p>
</li>
<li>
<p>Register: explicitly represented</p>
</li>
<li>
<p>memory: the symbolic name of the memory location is explicitly represented</p>
</li>
<li>
<p>immediate operands: the actual value is explicitly represented</p>
</li>
</ul>
<blockquote>
<p>A literal value must contain a symbol identifying the representation base of the number.</p>
<ul>
<li><code>#</code> for decimal</li>
<li><code>x</code> for hexadecimal</li>
<li><code>b</code> for binary</li>
</ul>
</blockquote>
<h5 id="7212_label">7.2.1.2 Label<a class="headerlink" href="#7212_label" title="Permanent link">&para;</a></h5>
<blockquote>
<p><strong>Labels</strong> are symbolic names that are used to identify memory locations that are referred to explicitly in the program. In LC-3 assembly language, a label consists of from 1 to 20 alphanumeric characters (i.e., each character is a capital or lower- case letter of the English alphabet, or a decimal digit), starting with a letter of the alphabet.</p>
<p>other character strings that have specific meanings in an LC-3 program cannot be used as labels, like ADD, NOT, x1000, R4. Such not-allowed character strings are often referred to as <em>reserved words</em>.</p>
</blockquote>
<ul>
<li>
<p>two reasons for explicitly referring to a memory location</p>
</li>
<li>
<p>The location is the target of a branch instruction.</p>
</li>
<li>
<p>The location contains a value that is loaded or stored.</p>
</li>
<li>
<p>If a location in the program is not explicitly referenced, then there is no need to give it a label.</p>
</li>
</ul>
<h5 id="7213_comments">7.2.1.3 Comments<a class="headerlink" href="#7213_comments" title="Permanent link">&para;</a></h5>
<ul>
<li>It is important to make comments that provide additional insight and do not just restate the obvious.</li>
<li>不要简单地描述一个指令，要给出这个指令的作用（在大局观下）</li>
</ul>
<h4 id="722_psudo-opsassembler_directives">7.2.2 Psudo-Ops(Assembler Directives)<a class="headerlink" href="#722_psudo-opsassembler_directives" title="Permanent link">&para;</a></h4>
<blockquote>
<p>Rather, the pseudo-op is strictly a message from the assembly language program- mer to the assembler to help the assembler in the assembly process. Once the assembler handles the message, the pseudo-op is discarded.</p>
<p>The LC-3 assembly language contains five pseudo-ops that we will find useful in our assembly language programming: <code>.ORIG</code>,<code>.FILL</code>,<code>.BLKW</code>,<code>.STRINGZ</code>, and<code>.END</code>. </p>
</blockquote>
<h5 id="7221_orig">7.2.2.1 <code>.ORIG</code><a class="headerlink" href="#7221_orig" title="Permanent link">&para;</a></h5>
<blockquote>
<p>.ORIG tells the assembler where in memory to place the LC-3 program.</p>
</blockquote>
<h5 id="7222_fill">7.2.2.2 <code>.FILL</code><a class="headerlink" href="#7222_fill" title="Permanent link">&para;</a></h5>
<blockquote>
<p>.FILL tells the assembler to set aside the next location in the program and initialize it with the value of the operand. The value can be either a number or a label.</p>
</blockquote>
<h5 id="7223_blkw">7.2.2.3 <code>.BLKW</code><a class="headerlink" href="#7223_blkw" title="Permanent link">&para;</a></h5>
<blockquote>
<p>.BLKW tells the assembler to set aside some number of sequential memory locations (i.e., a <strong>BL</strong>oc<strong>K</strong> of <strong>W</strong>ords) in the program. The actual number is the operand of the .BLKW pseudo-op.</p>
</blockquote>
<p>当要使用的数值还未知时来使用。</p>
<h5 id="7224_stringz">7.2.2.4 <code>.STRINGZ</code><a class="headerlink" href="#7224_stringz" title="Permanent link">&para;</a></h5>
<blockquote>
<p>.STRINGZ tells the assembler to initialize a sequence of <em>n</em> + 1 memory locations. The argument is a sequence of <em>n</em> characters inside double quotation marks. </p>
</blockquote>
<ul>
<li>The final word of memory is initialized to 0. The last word, containing x0000, provides a convenient sentinel for processing the string of ASCII codes.</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a>      .ORIG    x3010
<a id="__codelineno-0-2" name="__codelineno-0-2"></a>HELLO .STRINGZ &quot;Hello, World!&quot;
</code></pre></div></td></tr></table></div>
<h5 id="7225_end">7.2.2.5 <code>.END</code><a class="headerlink" href="#7225_end" title="Permanent link">&para;</a></h5>
<blockquote>
<p>END tells the assembler it has reached the end of the program and need not even look at anything after it. That is, any characters that come after .END will not be processed by the assembler.</p>
</blockquote>
<ul>
<li>It is simply a delimiter（定界符）—it marks the end of the program. It is a message from the programmer, telling the assembler where the assembly language program ends.</li>
</ul>
<h3 id="73_the_assembly_process">7.3 The Assembly Process<a class="headerlink" href="#73_the_assembly_process" title="Permanent link">&para;</a></h3>
<h4 id="732_a_two-pass_process">7.3.2 A Two-Pass Process<a class="headerlink" href="#732_a_two-pass_process" title="Permanent link">&para;</a></h4>
<p>在一对一的翻译中，汇编器很可能遇到Label，汇编器不知道这些抽象地址的含义，于是就需要一个symbol table。</p>
<blockquote>
<p>To prevent this from occurring, the assembly process is done in two complete passes (from beginning to .END) through the entire assembly language program. </p>
<p>The objective of the first pass is to identify the actual binary addresses corresponding to the symbolic names (or labels). This set of correspondences is known as the <em>symbol table</em>. </p>
</blockquote>
<ul>
<li>
<p>In pass 1, we construct the symbol table. </p>
</li>
<li>
<p>In pass 2, we translate the individual assembly language instructions into their corresponding machine language instructions.</p>
</li>
</ul>
<h4 id="733_the_first_pass_creating_the_symbol_table">7.3.3 The First Pass: Creating the Symbol Table<a class="headerlink" href="#733_the_first_pass_creating_the_symbol_table" title="Permanent link">&para;</a></h4>
<blockquote>
<p>We keep track of the location assigned to each instruction by means of a location counter (LC). The LC is initialized to the address specified in .ORIG, that is, x3000.</p>
<p>The assembler examines each instruction in sequence and increments the LC once for each assembly language instruction. If the instruction examined contains a label, a symbol table entry is made for that label, specifying the current contents of LC as its address.（LC记录着当前指令的地址，并且随着指令的移动increment，如果遇到Label，则把PC的值填入symbol table）</p>
</blockquote>
<p><img src="ICS.assets/image-20230717153526409.png" alt="image-20230717153526409" style="zoom:50%;" /></p>
<h4 id="734_the_second_pass_generating_the_machine_language_program">7.3.4 The Second Pass: Generating the Machine Language Program<a class="headerlink" href="#734_the_second_pass_generating_the_machine_language_program" title="Permanent link">&para;</a></h4>
<ul>
<li>计算offset：目标地址 - incremented LC</li>
</ul>
<blockquote>
<p><em>Note:</em> In order to use the LD instruction, it is necessary that the source of the load, in this case the address whose label is PTR, is not more than +256 or −255 memory locations from the LD instruction itself.</p>
</blockquote>
<h3 id="74_beyond_the_assembly_of_a_single_assembly_language_program">7.4 Beyond the Assembly of a Single Assembly Language Program<a class="headerlink" href="#74_beyond_the_assembly_of_a_single_assembly_language_program" title="Permanent link">&para;</a></h3>
<h4 id="741_the_executable_image">7.4.1 The Executable Image<a class="headerlink" href="#741_the_executable_image" title="Permanent link">&para;</a></h4>
<blockquote>
<p>When a computer begins execution of a program, the entity being executed is called an <em>executable image</em>.</p>
<p>The executable image is created from modules often created independently by several different programmers. Each module is trans- lated separately into an object file.</p>
</blockquote>
<h4 id="742_more_than_one_object_file">7.4.2 More than One Object File<a class="headerlink" href="#742_more_than_one_object_file" title="Permanent link">&para;</a></h4>
<blockquote>
<p>If the LC-3 assembly language had the pseudo-op .EXTERNAL, and if we had designated STARTofFILE as .EXTERNAL, the LC-3 assembler would be able to create a symbol table entry for STARTofFILE, and instead of assigning it an address, it would mark the symbol as belonging to another module.</p>
</blockquote>
<p>编译时单独编译，在链接时处理下<code>.EXTERNAL</code>的地址问题</p>
<h2 id="chapter_8_data_structures">Chapter 8 Data Structures<a class="headerlink" href="#chapter_8_data_structures" title="Permanent link">&para;</a></h2>
<blockquote>
<p>A company’s organization chart and a list of items arranged in alphabetical order are two examples. We call these complex items of information <em>abstract data types</em>, or more colloquially <em>data structures</em>.</p>
</blockquote>
<h3 id="81_subroutinesfunctionsprocedures">8.1 Subroutines(Functions)(Procedures)<a class="headerlink" href="#81_subroutinesfunctionsprocedures" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>libraries</strong>: The collections of fragments that are used multiple times are available to user programmers to free them from having to write their own. </li>
<li><strong>Target</strong>: To enable the programmer to write the code more efficiently</li>
</ul>
<h4 id="811_the_callreturn_mechanism">8.1.1 The Call/Return Mechanism<a class="headerlink" href="#811_the_callreturn_mechanism" title="Permanent link">&para;</a></h4>
<blockquote>
<p>We refer to the program that contains the call as the <em>caller</em>, and the subroutine that contains the return as the <em>callee</em>.</p>
</blockquote>
<ul>
<li>这种机制有两个指令</li>
<li>
<p>JSR(R)：1. 往PC内装入subroutine的起始地址。(Loads PC, overwriting the incremented PC that was loaded during FETCH phase of the JSR(R) instruction.)2.往R7内装入JSR(R)下一条指令的地址(Store the incremented PC into R7.)</p>
<blockquote>
<p>We call the address we come back to the <em>return linkage</em>. </p>
</blockquote>
</li>
<li>
<p>JMP R7：是subroutine的最后一个指令</p>
</li>
</ul>
<h5 id="812_jsrr">8.1.2 JSR(R)<a class="headerlink" href="#812_jsrr" title="Permanent link">&para;</a></h5>
<p><img alt="image-20230716193427656" src="ICS.assets/image-20230716193427656.png" /></p>
<p>opcode: 0100    Bit[11]: addressing mode &ndash; 1 PC-relative 0 Base+offset</p>
<ul>
<li>
<p>JSR和BR类似，只是有11位来计算偏移PC的地址，能到达更远的地址</p>
</li>
<li>
<p><img alt="image-20230716193733422" src="ICS.assets/image-20230716193733422.png" /></p>
</li>
<li>
<p>JSRR和JMP类似，从一个基准寄存器中读取地址，能够实现任意地方的跳转</p>
</li>
<li>
<p><img alt="image-20230716193725118" src="ICS.assets/image-20230716193725118.png" /></p>
</li>
</ul>
<h4 id="813_saving_and_restoring_registers">8.1.3 Saving and Restoring Registers<a class="headerlink" href="#813_saving_and_restoring_registers" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>为什么要保存？</strong>1.为了防止CALLER写入寄存器的数据被subroutine执行过程中新写入的数据覆盖，我们需要在subroutine的第一部分存储registers中的数据到memory中，对应到SaveR1，SaveR2，SaveR3。2.我们调用递归函数时寄存器绝对不能复用，调用前或调用时保存。</p>
</li>
<li>
<p><strong>什么时候保存？</strong>调取子进程前或调用时保存。在返回源程序前，返还这些数据回Reg。</p>
</li>
</ul>
<blockquote>
<p>We call this technique <em><mark>callee save</mark></em> because the subroutine (i.e., the callee) saves and restores the registers.</p>
<p>这个操作需要subroutine来实现，因为subroutine知道它需要用到哪些REG。</p>
</blockquote>
<p>但是对于R7来说，需要CALLER来存储，因为R7的内容会在执行JMP START时被毁坏。</p>
<blockquote>
<p>We call this <em><mark>caller save</mark></em> because the calling program saves and restores the register value.</p>
</blockquote>
<ul>
<li>How to decide to use which save?</li>
</ul>
<blockquote>
<p>The one who knows the register will be &ldquo;polluted&rdquo; or overwritten <strong>should save the values</strong>.</p>
</blockquote>
<h4 id="814_library_routines">8.1.4 Library Routines<a class="headerlink" href="#814_library_routines" title="Permanent link">&para;</a></h4>
<blockquote>
<p>They are legitimately advertised as <em>productivity enhancers</em> since they allow the application programmer to use them without having to know or learn much of their inner details.</p>
</blockquote>
<h3 id="82_the_stack">8.2 The Stack<a class="headerlink" href="#82_the_stack" title="Permanent link">&para;</a></h3>
<h4 id="821_an_abstract_data_type">8.2.1 An <a href="https://zh.wikipedia.org/zh-cn/%E6%8A%BD%E8%B1%A1%E8%B3%87%E6%96%99%E5%9E%8B%E5%88%A5">Abstract Data Type</a><a class="headerlink" href="#821_an_abstract_data_type" title="Permanent link">&para;</a></h4>
<blockquote>
<p>An abstract data type is a storage mechanism that is defined by the operations performed on it and not at all by the specific manner in which it is implemented.</p>
<p>The concept of a stack is the specification of how it is to be <em>accessed</em>. </p>
<p>That is, the defining notion of a stack is that the <strong>last</strong> thing you stored in the stack is the <strong>first</strong> thing you remove from it.  </p>
<p>Simply put: Last In, First Out, or <strong>LIFO</strong>.</p>
<p>We say we <strong><em>push</em></strong> an element onto the stack when we insert it. We say we <strong><em>pop</em></strong> an element from the stack when we remove it.</p>
<p>A distinguishing feature of the stack of Figure 8.8 is that, like the quarters in the coin holder, as each value is added or removed, <strong>all the other values already on the stack move</strong>.</p>
</blockquote>
<p>Two Examples：the coin holder, the hardware datas</p>
<ul>
<li>One modle</li>
<li><img alt="image-20230719183327274" src="ICS.assets/image-20230719183327274.png" /></li>
<li>each value is added or removed, <strong>all the other values already on the stack move</strong>.</li>
</ul>
<h4 id="implementation_in_memory">Implementation in Memory<a class="headerlink" href="#implementation_in_memory" title="Permanent link">&para;</a></h4>
<ul>
<li>This stack consists of a sequence of memory locations along with a mechanism, called the <strong><em>stack pointer</em></strong>, which keeps track of the <strong>top</strong> of the stack. We use R6 to contain the address of the top of the stack. That is, in the LC-3, R6 is the stack pointer.</li>
</ul>
<p><img alt="image-20230716210356166" src="ICS.assets/image-20230716210356166.png" /></p>
<p>Note that the values inserted into the stack are stored in memory loca- tions having decreasing addresses. We say the stack <em>grows toward zero</em>. </p>
<blockquote>
<p>when values are pushed and popped to and from a stack implemented in sequential memory locations, the data already stored on the stack <strong>does not physically move</strong>.(最后一张图中pop了头两个元素，但是数值仍然保存在内存中，虽然不能被访问if we obey the rules) </p>
<p>The fancy name for “the rules” is the <em>stack protocol</em>.</p>
</blockquote>
<h5 id="push">Push<a class="headerlink" href="#push" title="Permanent link">&para;</a></h5>
<p><strong>Push</strong> We push a value onto the stack by executing the two-instruction sequence</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1">1</a></span>
<span class="normal"><a href="#__codelineno-1-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a>PUSH ADD R6,R6,#-1
<a id="__codelineno-1-2" name="__codelineno-1-2"></a>     STR R0,R6,#0 ; 先把数据存在R0中
</code></pre></div></td></tr></table></div>
<blockquote>
<p>That is, to push a value onto the stack, we first load that value into R0. Then we decrement R6, which contained the previous top of the stack. Then we execute STR R0,R6,#0, which stores the contents of R0 into the memory location whose address is in R6.</p>
</blockquote>
<h5 id="pop">Pop<a class="headerlink" href="#pop" title="Permanent link">&para;</a></h5>
<p><strong>Pop</strong> To pop a value from the stack, the value is read and the stack pointer is incremented. The following two-instruction sequence</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span>
<span class="normal"><a href="#__codelineno-2-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a>POP         LDR   R0,R6,#0
<a id="__codelineno-2-2" name="__codelineno-2-2"></a>            ADD   R6,R6,#1
</code></pre></div></td></tr></table></div>
<h5 id="underflow">Underflow<a class="headerlink" href="#underflow" title="Permanent link">&para;</a></h5>
<blockquote>
<p>Attempting to pop items that have not been previously pushed results in an <em>underflow</em> situation. </p>
</blockquote>
<p><img src="ICS.assets/image-20230716212150938.png" alt="image-20230716212150938" style="zoom:50%;" /></p>
<p>用R5来存储underflow information。如果R5内的数据需要保护，要在JSR之前 caller save</p>
<p>The Pop Routine</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-3-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-3-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-3-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-3-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-3-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-3-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-3-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-3-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-3-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a>POP      AND     R5,R5,#0
<a id="__codelineno-3-2" name="__codelineno-3-2"></a>         LD      R1,EMPTY
<a id="__codelineno-3-3" name="__codelineno-3-3"></a>         ADD     R2,R6,R1
<a id="__codelineno-3-4" name="__codelineno-3-4"></a>         BRz     Failure 
<a id="__codelineno-3-5" name="__codelineno-3-5"></a>         LDR     R0,R6,#0 
<a id="__codelineno-3-6" name="__codelineno-3-6"></a>         ADD     R6,R6,#1 
<a id="__codelineno-3-7" name="__codelineno-3-7"></a>         RET
<a id="__codelineno-3-8" name="__codelineno-3-8"></a>Failure  ADD     R5,R5,#1 
<a id="__codelineno-3-9" name="__codelineno-3-9"></a>         RET
<a id="__codelineno-3-10" name="__codelineno-3-10"></a>EMPTY    .FILL   xC000 ; EMPTY &lt;-- -x4000
</code></pre></div></td></tr></table></div>
<h5 id="overflow">Overflow<a class="headerlink" href="#overflow" title="Permanent link">&para;</a></h5>
<blockquote>
<p>Since we cannot store values where there is no space, we have an <em>overflow</em> situation.(没有足够的空间给数据存储)</p>
</blockquote>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1">1</a></span>
<span class="normal"><a href="#__codelineno-4-2">2</a></span>
<span class="normal"><a href="#__codelineno-4-3">3</a></span>
<span class="normal"><a href="#__codelineno-4-4">4</a></span>
<span class="normal"><a href="#__codelineno-4-5">5</a></span>
<span class="normal"><a href="#__codelineno-4-6">6</a></span>
<span class="normal"><a href="#__codelineno-4-7">7</a></span>
<span class="normal"><a href="#__codelineno-4-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a>PUSH       AND     R5,R5,#0
<a id="__codelineno-4-2" name="__codelineno-4-2"></a>           LD      R1,MAX
<a id="__codelineno-4-3" name="__codelineno-4-3"></a>           ADD R2,R6,R1 BRz 
<a id="__codelineno-4-4" name="__codelineno-4-4"></a>           ADD R6,R6,#-1 
<a id="__codelineno-4-5" name="__codelineno-4-5"></a>           STR R0,R6,#0 
<a id="__codelineno-4-6" name="__codelineno-4-6"></a>           RET
<a id="__codelineno-4-7" name="__codelineno-4-7"></a>Failure    ADD R5,R5,#1 RET
<a id="__codelineno-4-8" name="__codelineno-4-8"></a>MAX        .FILL   xC005 ; MAX &lt;-- -x3FFB
</code></pre></div></td></tr></table></div>
<h3 id="83_recursion">8.3 Recursion<a class="headerlink" href="#83_recursion" title="Permanent link">&para;</a></h3>
<blockquote>
<p>Recursion is a mechanism for expressing a function <em>in terms of itself</em>. </p>
</blockquote>
<p>“尾部递归”可以使用“迭代”来替换。 学过数据结构之后，对这个应该不陌生。</p>
<p>递归的优点在于易于理解；迭代的优点在于效率高。如何选择取决于你在“易于理解”和“效率”中如何作出权衡。</p>
<p>递归函数调用涉及一些运行时开销，包括参数必须压到堆栈中、为局部变量分配内存、寄存器的值必须保存等等，并且在每次调用返回时，上述保存操作必须还原，恢复成调用前的样子。迭代的实现方式开销显然要小。所以在可理解性相差不大的情况下，为了保证效率应该优先选择迭代。</p>
<h4 id="831_bad_example_number_1_factorial">8.3.1 Bad Example Number 1: Factorial<a class="headerlink" href="#831_bad_example_number_1_factorial" title="Permanent link">&para;</a></h4>
<blockquote>
<p>Every recursive subroutine must have such an initial test to see if we should execute the recursive call. </p>
</blockquote>
<p><img alt="image-20230717081239448" src="ICS.assets/image-20230717081239448.png" /></p>
<p>不能正常实现！因为R7在嵌套调用的过程中会被不断覆盖！</p>
<blockquote>
<p>We can solve this problem by pushing the address A+1 onto a <strong>stack</strong> before executing JSR FACT at address B. After we subsequently return to address B+1, we can then pop the stack and load the address A+1 into R7 before we execute the instruction RET back to the main program.</p>
</blockquote>
<p><img src="ICS.assets/image-20230717081400567.png" alt="image-20230717081400567" style="zoom: 67%;" /></p>
<p>还是不能实现，因为R1里暂存的n值也会不断被改写，其实本质上是SaveR1里面的值被不断改写。</p>
<blockquote>
<p>We can solve this problem with a stack also. That is, instead of moving the value n to R1 before loading n-1 into R0, we push n onto the stack and then pop it when we need it after returning from the subroutine with (n-1)! in R0.</p>
</blockquote>
<p><img alt="image-20230717082629734" src="ICS.assets/image-20230717082629734.png" /></p>
<p><img alt="image-20230717082709185" src="ICS.assets/image-20230717082709185.png" /></p>
<p>是否可以节省一次压栈？Push n和Push R1不是重复了吗？</p>
<h4 id="812_fibonaccian_even_worse_example">8.1.2 Fibonacci(An Even Worse Example)<a class="headerlink" href="#812_fibonaccian_even_worse_example" title="Permanent link">&para;</a></h4>
<p><img alt="image-20230717083956500" src="ICS.assets/image-20230717083956500.png" /></p>
<p><img alt="image-20230717084022418" src="ICS.assets/image-20230717084022418.png" /></p>
<p>对于求阶乘和斐波那契数列来说，递归都比循环算法麻烦</p>
<h4 id="813_a_mazegood_example">8.1.3 A Maze(Good example)<a class="headerlink" href="#813_a_mazegood_example" title="Permanent link">&para;</a></h4>
<p><img alt="image-20230717084352371" src="ICS.assets/image-20230717084352371.png" /></p>
<p>The words are stored in what we call <em>row major</em> order; that is, row 1 is stored, then row 2, then row 3, etc.</p>
<p><img alt="image-20230717084553259" src="ICS.assets/image-20230717084553259.png" /></p>
<p><code>BREADCRUMB</code> 是为了防止重复遍历某一个格子形成死循环</p>
<h3 id="84_the_queue">8.4 The Queue<a class="headerlink" href="#84_the_queue" title="Permanent link">&para;</a></h3>
<blockquote>
<p>The defining property of the abstract data type <em>queue</em> is <strong>FIFO</strong>. FIFO stands for “First in First out.”</p>
<p>We need to keep track of two ends of the storage structure: a FRONT pointer for servicing (i.e., removing elements from the front of the queue) and a REAR pointer for entering (i.e., inserting into the rear of the queue).</p>
<p>We arbitrarily assign the FRONT pointer to the location <strong>just before</strong> the first element of the queue. (头指针指的是第一个元素之前的地址)</p>
<p>We assign the REAR pointer to the location containing the most recent element that was added to the queue.</p>
</blockquote>
<h4 id="841_the_basic_operations_remove_from_front_insert_at_rear">8.4.1 The Basic Operations: Remove from Front, Insert at Rear<a class="headerlink" href="#841_the_basic_operations_remove_from_front_insert_at_rear" title="Permanent link">&para;</a></h4>
<p><img alt="image-20230717104818038" src="ICS.assets/image-20230717104818038.png" /></p>
<p><strong>Remove</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">1</a></span>
<span class="normal"><a href="#__codelineno-5-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a>ADD   R3,R3,#1
<a id="__codelineno-5-2" name="__codelineno-5-2"></a>LDR   R0,R3,#0
</code></pre></div></td></tr></table></div>
<p><strong>Insert</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1">1</a></span>
<span class="normal"><a href="#__codelineno-6-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a>ADD   R4,R4,#1
<a id="__codelineno-6-2" name="__codelineno-6-2"></a>STR   R0,R4,#0
</code></pre></div></td></tr></table></div>
<h4 id="842_wrap-around">8.4.2 Wrap-Around<a class="headerlink" href="#842_wrap-around" title="Permanent link">&para;</a></h4>
<p>循环队列？</p>
<h5 id="remove">Remove<a class="headerlink" href="#remove" title="Permanent link">&para;</a></h5>
<p><img alt="image-20230717104405823" src="ICS.assets/image-20230717104405823.png" /></p>
<h5 id="load">Load<a class="headerlink" href="#load" title="Permanent link">&para;</a></h5>
<p><img alt="image-20230717104419995" src="ICS.assets/image-20230717104419995.png" /></p>
<h4 id="843_how_many_elements_can_we_store_in_a_queue">8.4.3 How Many Elements Can We Store in a Queue?<a class="headerlink" href="#843_how_many_elements_can_we_store_in_a_queue" title="Permanent link">&para;</a></h4>
<blockquote>
<p>That is, if inserting an nth element into the queue would cause FRONT to equal REAR, we do not allow that insertion. We declare the queue full when there are n-1 elements in the queue.</p>
</blockquote>
<p>如果存满n个数值，那么满队列和空队列的情形是一样的，即，FRONT和REAR指在同一个内存上，所以我们仅允许存n-1个元素在n个地址内。不允许出现REAR和FRONT相等的情形。</p>
<p><img alt="image-20230717105511620" src="ICS.assets/image-20230717105511620.png" /></p>
<h4 id="844_tests_for_underflow_overflow">8.4.4 Tests for Underflow, Overflow<a class="headerlink" href="#844_tests_for_underflow_overflow" title="Permanent link">&para;</a></h4>
<blockquote>
<p>If the queue is empty and we try to remove an element, we have an <em>underflow</em> condition. </p>
<p>If the queue is full and we try to insert an element, we have an overflow condition.</p>
<p>我们依然用R5来存储是否成功，只要检测R3 是否等于 R4</p>
</blockquote>
<ul>
<li>if FRONT = REAR, the queue is empty</li>
<li>if FRONT = REAT + 1, the queue will overflow</li>
</ul>
<h3 id="85_character_strings">8.5 Character Strings<a class="headerlink" href="#85_character_strings" title="Permanent link">&para;</a></h3>
<p>A sequence of keyboard characters (letters, digits, and other symbols) is organized as a one-dimensional array of ASCII codes, usually representing a person’s name, address, or some other alphanumeric string. </p>
<ul>
<li>A common use of a character string is to identify a body of information associated with a particular person. </li>
<li><strong>A Character String Representing an “Integer.”</strong>需要判断是否每个字符都是一个decimal digit</li>
</ul>
<p><img alt="image-20230717131318020" src="ICS.assets/image-20230717131318020.png" /></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-7-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-7-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-7-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-7-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-7-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-7-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-7-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-7-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-7-10">10</a></span>
<span class="normal"><a href="#__codelineno-7-11">11</a></span>
<span class="normal"><a href="#__codelineno-7-12">12</a></span>
<span class="normal"><a href="#__codelineno-7-13">13</a></span>
<span class="normal"><a href="#__codelineno-7-14">14</a></span>
<span class="normal"><a href="#__codelineno-7-15">15</a></span>
<span class="normal"><a href="#__codelineno-7-16">16</a></span>
<span class="normal"><a href="#__codelineno-7-17">17</a></span>
<span class="normal"><a href="#__codelineno-7-18">18</a></span>
<span class="normal"><a href="#__codelineno-7-19">19</a></span>
<span class="normal"><a href="#__codelineno-7-20">20</a></span>
<span class="normal"><a href="#__codelineno-7-21">21</a></span>
<span class="normal"><a href="#__codelineno-7-22">22</a></span>
<span class="normal"><a href="#__codelineno-7-23">23</a></span>
<span class="normal"><a href="#__codelineno-7-24">24</a></span>
<span class="normal"><a href="#__codelineno-7-25">25</a></span>
<span class="normal"><a href="#__codelineno-7-26">26</a></span>
<span class="normal"><a href="#__codelineno-7-27">27</a></span>
<span class="normal"><a href="#__codelineno-7-28">28</a></span>
<span class="normal"><a href="#__codelineno-7-29">29</a></span>
<span class="normal"><a href="#__codelineno-7-30">30</a></span>
<span class="normal"><a href="#__codelineno-7-31">31</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a>; Input: R0 contains the starting address of the character string ; Output: R5=0, success; R5=1, failure.
<a id="__codelineno-7-2" name="__codelineno-7-2"></a>;
<a id="__codelineno-7-3" name="__codelineno-7-3"></a>TEST_INTEGER ST R1,SaveR1 ; Save registers needed by subroutine ST R2,SaveR2
<a id="__codelineno-7-4" name="__codelineno-7-4"></a>             ST R3,SaveR3
<a id="__codelineno-7-5" name="__codelineno-7-5"></a>             ST R4,SaveR4
<a id="__codelineno-7-6" name="__codelineno-7-6"></a>             AND  R5,R5,#0   ; Initialize success code to R5=0, success
<a id="__codelineno-7-7" name="__codelineno-7-7"></a>             LD   R2,ASCII_0 ; R2=xFFD0, the negative of ASCII code x30
<a id="__codelineno-7-8" name="__codelineno-7-8"></a>             LD   R3,ASCII_9 ; R3=xFFC7, the negative of ASCII code x39
<a id="__codelineno-7-9" name="__codelineno-7-9"></a>;
<a id="__codelineno-7-10" name="__codelineno-7-10"></a>NEXT_CHAR    LDR  R1,R0,#0 ; Load next char
<a id="__codelineno-7-11" name="__codelineno-7-11"></a>             BRz  SUCCESS   ;这一步！！记得每次Load后要通过BRz判断是否读完。
<a id="__codelineno-7-12" name="__codelineno-7-12"></a>             ADD  R4,R1,R2
<a id="__codelineno-7-13" name="__codelineno-7-13"></a>             BRn  BAD
<a id="__codelineno-7-14" name="__codelineno-7-14"></a>             ADD  R4,R1,R3
<a id="__codelineno-7-15" name="__codelineno-7-15"></a>             BRp  BAD
<a id="__codelineno-7-16" name="__codelineno-7-16"></a>             ADD  R0,R0,#1
<a id="__codelineno-7-17" name="__codelineno-7-17"></a>             BR   NEXT_CHAR
<a id="__codelineno-7-18" name="__codelineno-7-18"></a>;
<a id="__codelineno-7-19" name="__codelineno-7-19"></a>BAD          ADD R5,R5,#1 
<a id="__codelineno-7-20" name="__codelineno-7-20"></a>SUCCESS      LD R4,SaveR4 
<a id="__codelineno-7-21" name="__codelineno-7-21"></a>             LD R3,SaveR3 
<a id="__codelineno-7-22" name="__codelineno-7-22"></a>             LD R2,SaveR2 
<a id="__codelineno-7-23" name="__codelineno-7-23"></a>             LD R1,SaveR1 
<a id="__codelineno-7-24" name="__codelineno-7-24"></a>             RET
<a id="__codelineno-7-25" name="__codelineno-7-25"></a>
<a id="__codelineno-7-26" name="__codelineno-7-26"></a>ASCII_0         .FILL xFFD0
<a id="__codelineno-7-27" name="__codelineno-7-27"></a>ASCII_9         .FILL xFFc7
<a id="__codelineno-7-28" name="__codelineno-7-28"></a>SaveR1          .BLKW 1
<a id="__codelineno-7-29" name="__codelineno-7-29"></a>SaveR2          .BLKW 1
<a id="__codelineno-7-30" name="__codelineno-7-30"></a>SaveR3          .BLKW 1
<a id="__codelineno-7-31" name="__codelineno-7-31"></a>SaveR4          .BLKW 1
</code></pre></div></td></tr></table></div>
<h4 id="pointer">Pointer<a class="headerlink" href="#pointer" title="Permanent link">&para;</a></h4>
<p>Recall that R5, the base pointer, points to the first declared local variable, or object in this case.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1">1</a></span>
<span class="normal"><a href="#__codelineno-8-2">2</a></span>
<span class="normal"><a href="#__codelineno-8-3">3</a></span>
<span class="normal"><a href="#__codelineno-8-4">4</a></span>
<span class="normal"><a href="#__codelineno-8-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a>AND R0, R0, #0 ; Clear R0
<a id="__codelineno-8-2" name="__codelineno-8-2"></a>ADD R0, R0, #4 ;R0=4
<a id="__codelineno-8-3" name="__codelineno-8-3"></a>STR R0, R5, #0 ; object = 4
<a id="__codelineno-8-4" name="__codelineno-8-4"></a>ADD R0, R5, #0  ; Generate memory address of object
<a id="__codelineno-8-5" name="__codelineno-8-5"></a>STR R0, R5, #-1 ;Ptr = &amp;object
</code></pre></div></td></tr></table></div>
<h2 id="chapter_9_io">Chapter 9 I/O<a class="headerlink" href="#chapter_9_io" title="Permanent link">&para;</a></h2>
<h3 id="91_privilege_priority_and_the_memory_address_space">9.1 Privilege, Priority, and the Memory Address Space<a class="headerlink" href="#91_privilege_priority_and_the_memory_address_space" title="Permanent link">&para;</a></h3>
<h4 id="911_privilege_and_priority">9.1.1 Privilege and Priority<a class="headerlink" href="#911_privilege_and_priority" title="Permanent link">&para;</a></h4>
<h5 id="9111_privilege">9.1.1.1 Privilege<a class="headerlink" href="#9111_privilege" title="Permanent link">&para;</a></h5>
<blockquote>
<p>Privilege is all about the right to do something, such as execute a particular instruction or access a particular memory location.</p>
</blockquote>
<ul>
<li>我们不想让任意程序都能执行HALT指令来停机，也不希望任意的程序都能干扰已有的数据结构或者代码。所以不是所有程序都能够有权利来执行所有的指令，也不是所有的程序都有权利访问所有的内存。
  Not all computer programs have the right to execute all instructions. 
  Similarly, some memory locations are only available to the operating system. </li>
<li>We designate every computer program as either privileged or unprivileged. We often say <em>supervisor privilege</em> to indicate privileged. </li>
<li>We say a program is executing in Supervisor mode to indicate privileged, or User mode to indicate unprivileged.</li>
<li><strong>Access Control Violation (ACV) exception</strong> An <strong>ACV exception</strong> occurs if a process attempts to access a location in privileged memory (either a location in system space or a device register having an address from xFE00 to xFFFF) while operating in User mode. </li>
</ul>
<h5 id="9112_priority">9.1.1.2 Priority<a class="headerlink" href="#9112_priority" title="Permanent link">&para;</a></h5>
<blockquote>
<p>Priority is all about the urgency of a program to execute. Every program is assigned a priority, specifying its urgency as compared to all other programs. This allows programs of greater urgency to interrupt programs of lesser urgency.</p>
</blockquote>
<p>random program may be assigned a priority of 0. Keyboard may be assigned a priority of 4.</p>
<h5 id="9113_two_orthogonal_notions">9.1.1.3 Two Orthogonal Notions<a class="headerlink" href="#9113_two_orthogonal_notions" title="Permanent link">&para;</a></h5>
<h5 id="9114_the_processor_status_register_psr">9.1.1.4 The Processor Status Register (PSR)<a class="headerlink" href="#9114_the_processor_status_register_psr" title="Permanent link">&para;</a></h5>
<blockquote>
<p>The other register, the Processor Status Register (PSR), is shown in Figure 9.1. It contains the privilege and priority assigned to that program.</p>
</blockquote>
<p>PSR[15] = 0 supervisor privilege
PSR[15] = 1 unprivilieged</p>
<p>PLR[10:8] priority level PL0[low]~PL7[high]</p>
<p><img alt="image-20230717164225896" src="ICS.assets/image-20230717164225896.png" /></p>
<h4 id="912_organization_of_memory">9.1.2 Organization of Memory<a class="headerlink" href="#912_organization_of_memory" title="Permanent link">&para;</a></h4>
<h5 id="system_space">System Space<a class="headerlink" href="#system_space" title="Permanent link">&para;</a></h5>
<blockquote>
<p>Locations <mark>x0000 to x2FFF</mark> are privileged memory locations. They contain the various data structures and code of the operating system. They require supervisor privilege to access. They are referred to as <em>system space</em>.</p>
</blockquote>
<h5 id="user_space">User Space<a class="headerlink" href="#user_space" title="Permanent link">&para;</a></h5>
<blockquote>
<p>Locations <mark>x3000 to xFDFF</mark> are unprivileged memory locations. Supervisor privilege is not required to access these memory locations. All user programs and data use this region of memory.</p>
</blockquote>
<h5 id="io_page">I/O page<a class="headerlink" href="#io_page" title="Permanent link">&para;</a></h5>
<blockquote>
<p>Addresses <mark>xFE00 to xFFFF</mark> are used to identify registers that take part in input and output functions and some special registers associated with the processor.</p>
<ul>
<li>PSR&ndash;xFFFC,</li>
<li>processor&rsquo;s Master Control Register(MCR)&ndash;xFFFE</li>
</ul>
<p>Access to those registers requires <strong>supervisor privilege</strong>.</p>
</blockquote>
<p><img alt="image-20230717164834745" src="ICS.assets/image-20230717164834745.png" /></p>
<ul>
<li>two stacks(位置是怎么规定的？)</li>
<li>a <em>supervisor stack</em> in system space. It is controlled by the operating system and requires supervisor privilege to access.(x0000~x2FFF)</li>
<li>
<p>a <em>user stack</em> in user space. The user stack is controlled by the user program and does not require privilege to access.(x3000~xFDFF)</p>
</li>
<li>
<p>Each has a stack pointer, Supervisor Stack Pointer (SSP) and User Stack Pointer (USP), to indicate the top of the stack. </p>
</li>
<li>Since a program can only execute in Supervisor mode or User mode at any one time, only one of the two stacks is active at any one time. </li>
<li>Register 6 is generally used as the stack pointer (SP) for the active stack. Two <strong>registers</strong>, Saved_SSP and Saved_USP, are provided to save the SP not in use. </li>
</ul>
<h3 id="92_inputoutput">9.2 Input/Output<a class="headerlink" href="#92_inputoutput" title="Permanent link">&para;</a></h3>
<blockquote>
<p>Even the simplest I/O devices usually need at least two registers: <strong>one</strong> to hold the data being transferred between the device and the computer, and <strong>one</strong> to indicate status information about the device. An example of status information is whether the device is available or is it still busy processing the most recent I/O task.</p>
</blockquote>
<h4 id="921_some_basic_characteristics_of_io">9.2.1 Some Basic Characteristics of I/O<a class="headerlink" href="#921_some_basic_characteristics_of_io" title="Permanent link">&para;</a></h4>
<h5 id="9211_memory-mapped_io_vs_special_io_instructions">9.2.1.1 Memory-Mapped I/O vs. Special I/O Instructions<a class="headerlink" href="#9211_memory-mapped_io_vs_special_io_instructions" title="Permanent link">&para;</a></h5>
<ul>
<li>Some computers use special input and output instructions. </li>
</ul>
<blockquote>
<p>The 12-bit PDP-8 instruction contained a three-bit opcode. If the opcode was 110, an I/O instruction was indicated. The remaining nine bits of the PDP-8 instruction identified which I/O device register and what operation was to be performed.</p>
</blockquote>
<ul>
<li>Most computers prefer to use the same data movement instructions that are used to move data in and out of memory.</li>
</ul>
<blockquote>
<p>The original PDP-11 ISA had a 16-bit address space. All addresses wherein bits [15:13] = 111 were allocated to I/O device registers. That is, of the 216 addresses, only 57,344 corresponded to memory locations. The remaining 213 were memory-mapped I/O addresses.</p>
</blockquote>
<ul>
<li>
<p>因为使用相同的data movement指令，所以输入输出设备的寄存器也要像内存一样有独一无二的定位。因此，每个设备寄存器都会有一个来自内存的地址。</p>
</li>
<li>
<p>That is, the I/O device registers are <em>mapped</em> to a set of addresses that are allocated to I/O device registers rather than to memory locations. Hence the name <em>memory-mapped I/O</em>.</p>
</li>
</ul>
<h5 id="9212_asynchronous_vs_synchronous">9.2.1.2 Asynchronous vs. Synchronous<a class="headerlink" href="#9212_asynchronous_vs_synchronous" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p>人类打字的速度跟不上计算机的Clock Cycle。即使设置了固定的慢速，打字速度也会因为时间而变化。所以都是行不通的。也就是说，人类打字和电脑时asynchronous的。</p>
</li>
<li>
<p>The point is that I/O devices usually operate at speeds very different from that of a microprocessor, and <strong>not in lockstep</strong>. We call this characteristic <strong>asynchronous</strong>.</p>
</li>
<li>
<p>To control processing in an asynchronous world requires some protocol or <em>handshaking</em> mechanism.</p>
</li>
</ul>
<blockquote>
<ul>
<li>In the case of the keyboard, we will need a one-bit status register, called a <em>flag,</em> to indicate if someone has or has not typed a character. </li>
<li>In the case of the monitor, we will need a one-bit status register to indicate whether or not the most recent character sent to the monitor has been displayed, and so the monitor can be given another character to display.</li>
<li>These flags are the simplest form of <em>synchronization</em>.</li>
</ul>
</blockquote>
<ul>
<li>A single flag, called the <em>ready bit</em>（输入时置1，电脑读取时置0）</li>
<li>但是如果人类的输入能固定在一个精确的间隔，比如200million个时钟周期，那么人和电脑就是同步的（synchronous）</li>
</ul>
<h5 id="9213_interrupt-driven_vs_polling">9.2.1.3 Interrupt-Driven vs. Polling<a class="headerlink" href="#9213_interrupt-driven_vs_polling" title="Permanent link">&para;</a></h5>
<blockquote>
<ul>
<li>This is called <em>interrupt-driven I/O</em>, where the keyboard controls the interaction. </li>
<li>Or, does the processor control the interaction, specifically by interrogating (usually, again and again) the ready bit until it (the processor) detects that the ready bit is set. At that point, the processor knows it is time to read the device register. </li>
</ul>
<p>中断驱动就是将CPU从繁忙等待的繁琐中解脱出来。在发送完一个或一批数据后，CPU就去忙别的事情。I/O设备处理完这批数据后，向CPU发出中断。CPU响应中断后再发送下一批数据。具体来说，中断驱动I/O的过程如下：</p>
<p>1）CPU初始化I/O并启动第一次I/O操作。
2）CPU去忙别的事情。
3）当I/O完成时，CPU将被中断。
4）CPU处理中断。
5）CPU恢复被中断的程序。</p>
</blockquote>
<p><img alt="在这里插入图片描述" src="ICS.assets/watermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTA3MTE0OTU%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70.png" /></p>
<h4 id="922_input_from_the_keyboard">9.2.2 Input from the Keyboard<a class="headerlink" href="#922_input_from_the_keyboard" title="Permanent link">&para;</a></h4>
<h5 id="9221_basic_input_registers_kbdr_and_kbsr">9.2.2.1 Basic Input Registers (KBDR and KBSR)<a class="headerlink" href="#9221_basic_input_registers_kbdr_and_kbsr" title="Permanent link">&para;</a></h5>
<ul>
<li>处理输入需要两样东西：1.数据寄存器 2.一种同步化机制来使处理器知道有输入发生</li>
</ul>
<p><img src="ICS.assets/image-20230718150312149.png" alt="image-20230718150312149" style="zoom:50%;" /></p>
<ul>
<li>In the case of KBDR, bits [7:0] are used for the data, and bits [15:8] contain x00. In the case of KBSR, bit [15] contains the synchronization mechanism, that is, the ready bit.</li>
</ul>
<h5 id="9222_the_basic_input_service_routine">9.2.2.2 The Basic Input Service Routine<a class="headerlink" href="#9222_the_basic_input_service_routine" title="Permanent link">&para;</a></h5>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1">1</a></span>
<span class="normal"><a href="#__codelineno-9-2">2</a></span>
<span class="normal"><a href="#__codelineno-9-3">3</a></span>
<span class="normal"><a href="#__codelineno-9-4">4</a></span>
<span class="normal"><a href="#__codelineno-9-5">5</a></span>
<span class="normal"><a href="#__codelineno-9-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a>START   LDI R1, A 
<a id="__codelineno-9-2" name="__codelineno-9-2"></a>        BRzp START ; poll the ready bit
<a id="__codelineno-9-3" name="__codelineno-9-3"></a>        LDI R0, B 
<a id="__codelineno-9-4" name="__codelineno-9-4"></a>        BRnzp NEXT_TASK 
<a id="__codelineno-9-5" name="__codelineno-9-5"></a>A       .FILL xFE00 ;the memory-mapped address of KBSR
<a id="__codelineno-9-6" name="__codelineno-9-6"></a>B       .FILL xFE02 ; KBDR
</code></pre></div></td></tr></table></div>
<h5 id="9223_implementation_of_memory-mapped_input">9.2.2.3 Implementation of Memory-Mapped Input<a class="headerlink" href="#9223_implementation_of_memory-mapped_input" title="Permanent link">&para;</a></h5>
<p><img alt="image-20230718150925152" src="ICS.assets/image-20230718150925152.png" /></p>
<p>the EXECUTE phase</p>
<ol>
<li>MAR is loaded with address of a device register</li>
<li>The address control logic selects the the corresponding device register to provide input to the MDR</li>
<li>The destination register is loaded with the contents of MDR</li>
</ol>
<h4 id="923_output_to_the_monitor">9.2.3 Output to the Monitor<a class="headerlink" href="#923_output_to_the_monitor" title="Permanent link">&para;</a></h4>
<h5 id="9231_basic_output_registers_ddr_and_dsr">9.2.3.1 Basic Output Registers (DDR and DSR)<a class="headerlink" href="#9231_basic_output_registers_ddr_and_dsr" title="Permanent link">&para;</a></h5>
<p><img src="ICS.assets/image-20230718151252935.png" alt="image-20230718151252935" style="zoom:50%;" /></p>
<ul>
<li>In the case of DDR, bits [7:0] are used for data, and bits [15:8] contain x00. In the case of DSR, bit [15] contains the synchronization mechanism, that is, the ready bit. </li>
</ul>
<h5 id="9232_the_basic_output_service_routine">9.2.3.2 The Basic Output Service Routine<a class="headerlink" href="#9232_the_basic_output_service_routine" title="Permanent link">&para;</a></h5>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1">1</a></span>
<span class="normal"><a href="#__codelineno-10-2">2</a></span>
<span class="normal"><a href="#__codelineno-10-3">3</a></span>
<span class="normal"><a href="#__codelineno-10-4">4</a></span>
<span class="normal"><a href="#__codelineno-10-5">5</a></span>
<span class="normal"><a href="#__codelineno-10-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a>START   LDI R1, A
<a id="__codelineno-10-2" name="__codelineno-10-2"></a>        BRzp START
<a id="__codelineno-10-3" name="__codelineno-10-3"></a>        STI R0, B
<a id="__codelineno-10-4" name="__codelineno-10-4"></a>        BRnzp NEXT_TASK
<a id="__codelineno-10-5" name="__codelineno-10-5"></a>A       .FILL xFE04 ; DSR
<a id="__codelineno-10-6" name="__codelineno-10-6"></a>B       .FILL xFE06 ; DDR
</code></pre></div></td></tr></table></div>
<ul>
<li>Note the use of LDI and the indirect access to xFE04, the memory-mapped address of DSR.</li>
<li>Note the use of the STI instruction, which stores R0 into xFE06, the memory-mapped address of DDR. </li>
</ul>
<h5 id="9233_implementation_of_memory-mapped_output">9.2.3.3 Implementation of Memory-Mapped Output<a class="headerlink" href="#9233_implementation_of_memory-mapped_output" title="Permanent link">&para;</a></h5>
<ol>
<li>MAR is loaded with the address of a device register (through indirect addressing mode)</li>
<li>The address control logic asserts the load enable signal of DDR</li>
<li>DDR is written</li>
</ol>
<p><img alt="image-20230718152604350" src="ICS.assets/image-20230718152604350.png" /></p>
<h5 id="9234_example_keyboard_echo">9.2.3.4 Example: Keyboard Echo<a class="headerlink" href="#9234_example_keyboard_echo" title="Permanent link">&para;</a></h5>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-11-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-11-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-11-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-11-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-11-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-11-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-11-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-11-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-11-10">10</a></span>
<span class="normal"><a href="#__codelineno-11-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a>START   LDI R1, KBSR 
<a id="__codelineno-11-2" name="__codelineno-11-2"></a>        BRzp START ; poll the redit bit
<a id="__codelineno-11-3" name="__codelineno-11-3"></a>        LDI R0, KBDR
<a id="__codelineno-11-4" name="__codelineno-11-4"></a>ECHO    LDI R1, DSR
<a id="__codelineno-11-5" name="__codelineno-11-5"></a>        BRzp ECHO
<a id="__codelineno-11-6" name="__codelineno-11-6"></a>        STI R0, DDR
<a id="__codelineno-11-7" name="__codelineno-11-7"></a>        BRnzp NEXT_TASK 
<a id="__codelineno-11-8" name="__codelineno-11-8"></a>KBSR    .FILL xFE00
<a id="__codelineno-11-9" name="__codelineno-11-9"></a>KBDR    .FILL xFE02
<a id="__codelineno-11-10" name="__codelineno-11-10"></a>DSR     .FILL xFE04
<a id="__codelineno-11-11" name="__codelineno-11-11"></a>DDR     .FILL xFE06
</code></pre></div></td></tr></table></div>
<h5 id="924_a_more_sophisticated_input_routine">9.2.4 A More Sophisticated Input Routine<a class="headerlink" href="#924_a_more_sophisticated_input_routine" title="Permanent link">&para;</a></h5>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-12-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-12-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-12-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-12-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-12-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-12-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-12-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-12-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-12-10">10</a></span>
<span class="normal"><a href="#__codelineno-12-11">11</a></span>
<span class="normal"><a href="#__codelineno-12-12">12</a></span>
<span class="normal"><a href="#__codelineno-12-13">13</a></span>
<span class="normal"><a href="#__codelineno-12-14">14</a></span>
<span class="normal"><a href="#__codelineno-12-15">15</a></span>
<span class="normal"><a href="#__codelineno-12-16">16</a></span>
<span class="normal"><a href="#__codelineno-12-17">17</a></span>
<span class="normal"><a href="#__codelineno-12-18">18</a></span>
<span class="normal"><a href="#__codelineno-12-19">19</a></span>
<span class="normal"><a href="#__codelineno-12-20">20</a></span>
<span class="normal"><a href="#__codelineno-12-21">21</a></span>
<span class="normal"><a href="#__codelineno-12-22">22</a></span>
<span class="normal"><a href="#__codelineno-12-23">23</a></span>
<span class="normal"><a href="#__codelineno-12-24">24</a></span>
<span class="normal"><a href="#__codelineno-12-25">25</a></span>
<span class="normal"><a href="#__codelineno-12-26">26</a></span>
<span class="normal"><a href="#__codelineno-12-27">27</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a>        LD R2, Newline
<a id="__codelineno-12-2" name="__codelineno-12-2"></a>L1      LDI R3, DSR
<a id="__codelineno-12-3" name="__codelineno-12-3"></a>        BRzp L1
<a id="__codelineno-12-4" name="__codelineno-12-4"></a>        STI R2, DDR
<a id="__codelineno-12-5" name="__codelineno-12-5"></a>        LEA R1, Prompt
<a id="__codelineno-12-6" name="__codelineno-12-6"></a>LOOP    LDR R0, R1, #0
<a id="__codelineno-12-7" name="__codelineno-12-7"></a>        BRz Input
<a id="__codelineno-12-8" name="__codelineno-12-8"></a>L2      LDI R2, DSR
<a id="__codelineno-12-9" name="__codelineno-12-9"></a>        BRzp L2
<a id="__codelineno-12-10" name="__codelineno-12-10"></a>        STI R0, DDR
<a id="__codelineno-12-11" name="__codelineno-12-11"></a>        ADD R1, R1, #1
<a id="__codelineno-12-12" name="__codelineno-12-12"></a>        BRnzp LOOP
<a id="__codelineno-12-13" name="__codelineno-12-13"></a>Input   LDI R3, KBSR
<a id="__codelineno-12-14" name="__codelineno-12-14"></a>        BRzp Input
<a id="__codelineno-12-15" name="__codelineno-12-15"></a>        LDI R0, KBDR
<a id="__codelineno-12-16" name="__codelineno-12-16"></a>L3      LDI R3, DSR
<a id="__codelineno-12-17" name="__codelineno-12-17"></a>        BRzp L3
<a id="__codelineno-12-18" name="__codelineno-12-18"></a>        STI R0, DDR
<a id="__codelineno-12-19" name="__codelineno-12-19"></a>L4      LDI R3, DSR
<a id="__codelineno-12-20" name="__codelineno-12-20"></a>        BRzp L4
<a id="__codelineno-12-21" name="__codelineno-12-21"></a>        STI R2, DDR
<a id="__codelineno-12-22" name="__codelineno-12-22"></a>DSR     .FILL xFE04
<a id="__codelineno-12-23" name="__codelineno-12-23"></a>DDR     .FILL xFE06
<a id="__codelineno-12-24" name="__codelineno-12-24"></a>KBSR    .FILL xFE00
<a id="__codelineno-12-25" name="__codelineno-12-25"></a>KBDR    .FILL xFE02
<a id="__codelineno-12-26" name="__codelineno-12-26"></a>Newline .FILL x000A
<a id="__codelineno-12-27" name="__codelineno-12-27"></a>Prompt  .STRINGZ &quot;Input a character &gt;&quot;
</code></pre></div></td></tr></table></div>
<h4 id="925_implementation_of_memory-mapped_io_revisited">9.2.5 Implementation of Memory-Mapped I/O, Revisited<a class="headerlink" href="#925_implementation_of_memory-mapped_io_revisited" title="Permanent link">&para;</a></h4>
<blockquote>
<p>We have also learned that in order to support interrupt-driven I/O, the two status registers must be writeable as well as readable.</p>
</blockquote>
<p><img alt="image-20230718155321245" src="ICS.assets/image-20230718155321245.png" /></p>
<ul>
<li>The Address Control Logic Block controls the input or output operation.</li>
<li><code>MIO.EN</code> indicates whether a data movement from/to memory or I/O is to take place this clock cycle.</li>
<li><code>MAR</code> contains the address of the memory location or the memory-mapped address of an I/O device register.</li>
<li><code>R.W</code> indicates whether a load or a store is to take place.</li>
<li>Depending on the values of these three inputs, the <code>address control logic</code> does nothing (MIO.EN = 0), or it provides the control signals to direct the transfer of data between the MDR and the memory or between the MDR and one of the I/O registers.</li>
<li>If <code>R.W</code> indicates a load, the transfer is from memory or I/O device to the MDR. The Address Control Logic Block provides the select lines to INMUX to source the appropriate I/O device register or memory (depending on MAR) and also enables the memory if MAR contains the address of a memory location.</li>
<li>If <code>R.W</code> indicates a store, the contents of the MDR is written either to memory or to one of the device registers. The address control logic either enables a write to memory or asserts the load enable line of the device register specified by the contents of the MAR.</li>
</ul>
<h3 id="93_operating_system_service_routines_lc-3_trap_routines">9.3 Operating System Service Routines (LC-3 Trap Routines)<a class="headerlink" href="#93_operating_system_service_routines_lc-3_trap_routines" title="Permanent link">&para;</a></h3>
<h4 id="931_introduction">9.3.1 Introduction<a class="headerlink" href="#931_introduction" title="Permanent link">&para;</a></h4>
<ul>
<li>The TRAP instruction 可以简化I/O的操作</li>
<li>device registers不能被user programs改变，因为一不小心就会造成混乱，所以这一块内存仅有supervisor priority可以访问。</li>
</ul>
<blockquote>
<p>We usually refer to the request made by the user program as a <em>system call</em> or a <em>service call</em>.</p>
</blockquote>
<h4 id="932_the_trap_mechanism">9.3.2 The Trap Mechanism<a class="headerlink" href="#932_the_trap_mechanism" title="Permanent link">&para;</a></h4>
<p>The trap mechanism involves several elements:</p>
<ul>
<li>
<ol>
<li>A set of service routines </li>
</ol>
</li>
<li>
<p>A table of the start addresses</p>
<blockquote>
<p>This table is stored in memory locations x0000 to x00FF. </p>
<p>one Character output service routine (memory location x4020), stored in x0021</p>
<p>one keyboard input service routine(x40A0),stored in x0023</p>
<p>one machine halt service routine(x5020), stored in x0025</p>
</blockquote>
<p><img alt="image-20230718201940104" src="ICS.assets/image-20230718201940104.png" /></p>
</li>
<li>
<p>The TRAP instruction</p>
</li>
<li>
<p>A linkage back to the user program</p>
</li>
</ul>
<h4 id="933_the_trap_instruction">9.3.3 The TRAP Instruction<a class="headerlink" href="#933_the_trap_instruction" title="Permanent link">&para;</a></h4>
<blockquote>
<p>(1) changing the PC to the starting address of the relevant service routine on the basis of its trap vector, and (2) providing a way to get back to the program that executed the TRAP instruction.</p>
</blockquote>
<ul>
<li>
<p>The EXECUTE phase of the TRAP instruction</p>
</li>
<li>
<p>The PSR and PC are both pushed onto the system stack.(PC已经自加，会自动指向下一条指令)Note that the program requesting the trap service routine can be running either in Supervisor mode or in User mode. If in User mode, R6, the stack pointer, is pointing to the user stack. Before the PSR and PC can be pushed onto the system stack, the current contents of R6 must be stored in Saved_USP, and the contents of Saved SSP loaded into R6.</p>
</li>
<li>PSR[15] is set to 0. PSR[10:8] are left <strong>unchanged</strong> since <mark>the priority of the TRAP routine is the same as the priority of the program that requested it</mark>.</li>
<li>The 8-bit trap vector is zero-extended to 16bits to form an address that corresponds to a location in the Trap Vector Table.(PC is loaded with that address)</li>
</ul>
<p>（如果在USER Mode）先改变SP，再PSR入栈、PC入栈。更改权限。0拓展 Trap Vector，从其对应的Memory location中找到service routine的指令地址。</p>
<h4 id="934_the_rti_instruction_to_return_control_to_the_calling_program">9.3.4 The RTI Instruction: To Return Control to the Calling Program<a class="headerlink" href="#934_the_rti_instruction_to_return_control_to_the_calling_program" title="Permanent link">&para;</a></h4>
<ul>
<li>Return from TRAP of Interrupt(opcode = <strong>1000</strong>, with no operands): pop the top two values on the system stack into the PC and PSR. (用系统栈的前两个元素装载到PC和PSR里)</li>
<li><img alt="image-20230720084800001" src="ICS.assets/image-20230720084800001.png" /></li>
<li>PC: Since the PC contains the address following the address of the TRAP instruction, control returns to the user program at the correct address.</li>
<li>PSR: examine PSR[15], if in User mode, the stack pointers need to be adjusted to reflect that now back in User mode. loading the Saved_SSP with the current contents of R6, and loading the R6 with the contents of Saved_USP</li>
</ul>
<h4 id="935_a_summary_of_the_trap_service_routine_process">9.3.5 A Summary of the Trap Service Routine Process<a class="headerlink" href="#935_a_summary_of_the_trap_service_routine_process" title="Permanent link">&para;</a></h4>
<p><img alt="image-20230718205256535" src="ICS.assets/image-20230718205256535.png" /></p>
<h4 id="936_trap_routines_for_handling_io">9.3.6 Trap Routines for Handling I/O<a class="headerlink" href="#936_trap_routines_for_handling_io" title="Permanent link">&para;</a></h4>
<p>Two changes:</p>
<ol>
<li>We add the appropriate .ORIG and .END pseudo-ops. .ORIG specifies the starting address of the input service routine—the address found at location x0023 in the Trap Vector Table.</li>
<li>We terminate the input service routine with the RTI instruction rather than the BR NEXT_TASK</li>
</ol>
<h4 id="937_a_trap_routine_for_halting_the_computer">9.3.7 A Trap Routine for Halting the Computer<a class="headerlink" href="#937_a_trap_routine_for_halting_the_computer" title="Permanent link">&para;</a></h4>
<ul>
<li>In the LC-3, the RUN latch is bit [15] of the Master Control Register (MCR), which is memory-mapped to location xFFFE. (HALT就是负责把RUN latch置0的)</li>
</ul>
<h4 id="938_the_trap_routine_for_character_input_one_last_time">9.3.8 The Trap Routine for Character Input (One Last Time)<a class="headerlink" href="#938_the_trap_routine_for_character_input_one_last_time" title="Permanent link">&para;</a></h4>
<h4 id="939_puts_writing_a_character_string_to_the_monitor">9.3.9 PUTS: Writing a Character String to the Monitor<a class="headerlink" href="#939_puts_writing_a_character_string_to_the_monitor" title="Permanent link">&para;</a></h4>
<blockquote>
<p>Thus, if a user program requires a character string to be written to the monitor, it need only provide (in R0) the starting address of the character string, and then invoke TRAP x22. In LC-3 assembly language this TRAP is called <em>PUTS</em>.</p>
</blockquote>
<h3 id="94_interrupts_and_interrupt-_driven_io">9.4 Interrupts and Interrupt- Driven I/O<a class="headerlink" href="#94_interrupts_and_interrupt-_driven_io" title="Permanent link">&para;</a></h3>
<p>I/O device can</p>
<ol>
<li>force the running program to stop</li>
<li>have the processor execute a program that carries out the needs of the I/O device</li>
<li>have the stopped program resume execution as if nothing had happened.</li>
</ol>
<h4 id="942_why_have_interrupt-driven_io">9.4.2 Why Have Interrupt-Driven I/O?<a class="headerlink" href="#942_why_have_interrupt-driven_io" title="Permanent link">&para;</a></h4>
<blockquote>
<p>As is undoubtedly clear, polling requires the processor to waste a lot of time spinning its wheels, re-executing again and again the LDI and BR instructions until the ready bit is set.</p>
</blockquote>
<p>一个例子：输入100个字符并处理需要花费的时间.（0.125s 输入一个字符。 12.49999s 处理100个字符）</p>
<ul>
<li>轮询：<span class="arithmatex">\(0.125*100 = 12.5\)</span> <span class="arithmatex">\(12.5 + 12.49999 = 24.9999\)</span></li>
<li>中断驱动：<span class="arithmatex">\(0.00001 * 100 + 12.49999 = 15\)</span></li>
</ul>
<h4 id="943_two_parts_to_the_process">9.4.3 Two Parts to the Process<a class="headerlink" href="#943_two_parts_to_the_process" title="Permanent link">&para;</a></h4>
<ol>
<li>the mechanism that enables an I/O device to interrupt the processor </li>
<li>the mechanism that handles the interrupt request.</li>
</ol>
<h4 id="944_part_i_causing_the_interrupt_to_occur">9.4.4 Part I: Causing the Interrupt to Occur<a class="headerlink" href="#944_part_i_causing_the_interrupt_to_occur" title="Permanent link">&para;</a></h4>
<blockquote>
<p>Several things must be true for an I/O device to actually interrupt the program that is running:</p>
<ol>
<li>The I/O device <strong>must want</strong> service.</li>
<li>The device <strong>must have the right</strong> to request the service.</li>
<li>The device request <strong>must be more urgent</strong> than what the processor is currently doing.</li>
</ol>
</blockquote>
<h5 id="9441_the_interrupt_signal_from_the_device">9.4.4.1 The Interrupt Signal from the Device<a class="headerlink" href="#9441_the_interrupt_signal_from_the_device" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><strong>The Device Must Want Service</strong>I/O device wants service when the corresponding ready bit is set.（键盘会当一个字符敲击后want service，显示器会当上一个字符处理完后want service）</p>
</li>
<li>
<p><strong>The Device Must Have the Right to Request That Service</strong></p>
</li>
</ul>
<blockquote>
<p>interrupt enable<strong>(IE)</strong> bit, which can be set or cleared by the processor (usually by the operating system), depending on whether or not the processor wants to give the I/O device the right to request service.</p>
<p>is part of device status register</p>
</blockquote>
<ul>
<li>The <strong>interrupt request signal from the I/O device</strong> is the logical AND of the IE bit and the ready bit</li>
<li><img alt="image-20230719084538559" src="ICS.assets/image-20230719084538559.png" /></li>
<li>如果IE bit is clear，无论如何也无法interrupt处理器，只能等待轮询</li>
<li>如果IE bit is set，只要ready bit被置1，那么AND gate就被断言，就会发出interrupt request</li>
</ul>
<h5 id="9442_the_urgency_of_the_request">9.4.4.2 The Urgency of the Request<a class="headerlink" href="#9442_the_urgency_of_the_request" title="Permanent link">&para;</a></h5>
<blockquote>
<p>Recall from Section 9.1.1.2 that each program runs at a specified level of urgency called its priority level. To interrupt the running program, the device must have a higher priority than the program that is currently running. </p>
<p>The PL of a program is usually the same as the PL (i.e., urgency) of the request to run that program.（如果一个更高优先级的请求被发出，那么正在运行的低级优先级程序就会中断，来把电脑留给处理高阶程序，直到满足这个更紧急的请求）</p>
</blockquote>
<ul>
<li>a computer’s payroll program may run overnight, and at <code>PL0</code></li>
<li>A program that corrects for a nuclear plant current surge may run at <code>PL6</code>.</li>
<li>Note: We can&rsquo;t interrupt an interrupt routine caused by a keyboard interrupt by pressing the key board again! Because they are at the same level!</li>
</ul>
<h5 id="9443_the_int_signal">9.4.4.3 The INT Signal<a class="headerlink" href="#9443_the_int_signal" title="Permanent link">&para;</a></h5>
<blockquote>
<p>To stop the processor from continuing execution of its currently running program and service an interrupt request, the INT signal must be asserted.</p>
</blockquote>
<p><img alt="image-20230719092056078" src="ICS.assets/image-20230719092056078.png" /></p>
<ul>
<li>不同的设备都会发出中断请求信号，这些信号都会被输入一个<code>priority encoder</code>里面，一个组合逻辑电路结构会选择最高的优先级。如果该请求的PL高于现在正在执行的程序，那么<code>INT</code>信号就被断言。</li>
</ul>
<h5 id="9444_the_test_for_int">9.4.4.4 The Test for INT<a class="headerlink" href="#9444_the_test_for_int" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p>不在任意指令阶段(FETCH, DECODE, EVALUATE ADDRESS, FETCH OPERAND, EXECUTE, and STORE RESULT)被打断，而是只在最后一个指令循环阶段允许被打断。</p>
</li>
<li>
<p>It makes much more sense to ignore interrupt signals except when we are at an instruction boundary; that is, the current instruction has completed, and the next instruction has not yet started.</p>
</li>
<li>
<p>The additional logic to test for the interrupt signal is to augment the last state of the instruction cycle for each instruction with a test.</p>
</li>
</ul>
<h4 id="945_part_ii_handling_the_interrupt_request">9.4.5 Part II: Handling the Interrupt Request<a class="headerlink" href="#945_part_ii_handling_the_interrupt_request" title="Permanent link">&para;</a></h4>
<blockquote>
<p>Three states</p>
<ol>
<li>Initiate the interrupt (three lines numbered 1 in Figure9.17).</li>
<li>Service the interrupt (four lines numbered 2 in Figure9.17).</li>
<li>Return from the interrupt (one line numbered 3 in Figure9.17).</li>
</ol>
<p><img alt="image-20230719093818948" src="ICS.assets/image-20230719093818948.png" /></p>
</blockquote>
<h5 id="9451_initiate_the_interrupt">9.4.5.1 Initiate the Interrupt<a class="headerlink" href="#9451_initiate_the_interrupt" title="Permanent link">&para;</a></h5>
<p>The processor must do two things:</p>
<ol>
<li>save the state of the interrupted program so it can pick up where it left off after the requirements of the interrupt have been completed</li>
<li>
<p>load the state of the higher priority interrupting program so it can start satisfying its request</p>
</li>
<li>
<p><strong>Save the State of the Interrupted Program</strong> in the case of the LC-3, saving the <code>PC</code> and the <code>PSR</code></p>
</li>
<li>
<p>PC可以让被中断的程序恢复执行后，知道下一条指令是什么。</p>
</li>
<li>Condition codes可以使被中断的程序恢复执行后，正确执行条件跳转。</li>
<li>Priority Level会让被中断的程序恢复后知道哪些程序可以中断他。</li>
<li>Privilege Level描述什么样的processor resources可以被那个程序获取</li>
<li>默认service routine会保存GPRs的内容</li>
</ol>
<blockquote>
<p>具体操作和TRAP指令类似，如果在User mode，则保存USP，然后加载SSP到R6</p>
</blockquote>
<ul>
<li>
<p><strong>Load the State of the Interrupt Service Routine</strong> Most processors use the mechanism of <em>vectored interrupts</em>.</p>
<blockquote>
<p>In the case of interrupts, the eight-bit vector is provided by the device that is requesting the processor be interrupted. That is, the I/O device transmits to the processor an eight-bit interrupt vector along with its interrupt request signal and its priority level.</p>
</blockquote>
<ul>
<li>最高级别的interrupt request的interrupt vector被提供给了processor——INTV</li>
</ul>
<blockquote>
<p>If the interrupt is taken, the processor expands the 8-bit interrupt vector (INTV) to form a 16-bit address, which is an entry into the Interrupt Vector Table. </p>
<p>位于==x0100 ~ x01FF==</p>
<p>x0100 &ndash; Privilege mode exception</p>
<p>x0101 &ndash; Illegal Opcode </p>
<p>x0101 &ndash; Access Control Violation
  - PSR：PSR[2:0] contains no meaningful information. We arbitrarily load it initially with 010. Since the interrupt service routine runs in privileged mode, PSR[15] is set to 0. PSR[10:8] is set to the priority level associated with the interrupt request.</p>
</blockquote>
</li>
</ul>
<h5 id="9452_service_the_interrupt">9.4.5.2 Service the Interrupt<a class="headerlink" href="#9452_service_the_interrupt" title="Permanent link">&para;</a></h5>
<h5 id="9453_return_from_the_interrupt">9.4.5.3 Return from the Interrupt<a class="headerlink" href="#9453_return_from_the_interrupt" title="Permanent link">&para;</a></h5>
<ul>
<li>The last instruction in every interrupt service routine is RTI, return from trap or interrupt. </li>
</ul>
<h4 id="946_an_example">9.4.6 An Example<a class="headerlink" href="#946_an_example" title="Permanent link">&para;</a></h4>
<ul>
<li><img alt="image-20230720075752888" src="ICS.assets/image-20230720075752888.png" /></li>
<li><img alt="image-20230720080023250" src="ICS.assets/image-20230720080023250.png" /></li>
</ul>
<h4 id="947_not_just_io_devices">9.4.7 Not Just I/O Devices<a class="headerlink" href="#947_not_just_io_devices" title="Permanent link">&para;</a></h4>
<ul>
<li>a timer interrupt</li>
<li>the machine check interrupt</li>
<li>the power failure interrupt</li>
</ul>
<h3 id="95_polling_revisited_now_that_we_know_about_interrupts">9.5 Polling Revisited, Now That We Know About Interrupts<a class="headerlink" href="#95_polling_revisited_now_that_we_know_about_interrupts" title="Permanent link">&para;</a></h3>
<h4 id="951_the_problem">9.5.1 The Problem<a class="headerlink" href="#951_the_problem" title="Permanent link">&para;</a></h4>
<ul>
<li>在Polling的过程中（将要执行STI），如果被I/O设备打断（如键盘此刻突然输入），那么就会改变显示器的状态，可能恢复被打断程序时显示器依然不能正常提供服务，因此此时再执行STI指令输出字符就会失效。</li>
<li>A simple way to handle this would be to disable all interrupts while polling was going on. （但是polling会持续很长一段时间，这样对中断程序来说是不太可接受的）</li>
</ul>
<h4 id="952_the_solution">9.5.2 The Solution<a class="headerlink" href="#952_the_solution" title="Permanent link">&para;</a></h4>
<ul>
<li>The result: An interrupt would have to wait for the three-instruction sequence LDI, BRzp, STI to execute, rather than for the entire polling process to complete.</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-13-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-13-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-13-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-13-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-13-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-13-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-13-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-13-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-13-10">10</a></span>
<span class="normal"><a href="#__codelineno-13-11">11</a></span>
<span class="normal"><a href="#__codelineno-13-12">12</a></span>
<span class="normal"><a href="#__codelineno-13-13">13</a></span>
<span class="normal"><a href="#__codelineno-13-14">14</a></span>
<span class="normal"><a href="#__codelineno-13-15">15</a></span>
<span class="normal"><a href="#__codelineno-13-16">16</a></span>
<span class="normal"><a href="#__codelineno-13-17">17</a></span>
<span class="normal"><a href="#__codelineno-13-18">18</a></span>
<span class="normal"><a href="#__codelineno-13-19">19</a></span>
<span class="normal"><a href="#__codelineno-13-20">20</a></span>
<span class="normal"><a href="#__codelineno-13-21">21</a></span>
<span class="normal"><a href="#__codelineno-13-22">22</a></span>
<span class="normal"><a href="#__codelineno-13-23">23</a></span>
<span class="normal"><a href="#__codelineno-13-24">24</a></span>
<span class="normal"><a href="#__codelineno-13-25">25</a></span>
<span class="normal"><a href="#__codelineno-13-26">26</a></span>
<span class="normal"><a href="#__codelineno-13-27">27</a></span>
<span class="normal"><a href="#__codelineno-13-28">28</a></span>
<span class="normal"><a href="#__codelineno-13-29">29</a></span>
<span class="normal"><a href="#__codelineno-13-30">30</a></span>
<span class="normal"><a href="#__codelineno-13-31">31</a></span>
<span class="normal"><a href="#__codelineno-13-32">32</a></span>
<span class="normal"><a href="#__codelineno-13-33">33</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a>        .ORIG x0420
<a id="__codelineno-13-2" name="__codelineno-13-2"></a>        ADD   R6,R6,#-1
<a id="__codelineno-13-3" name="__codelineno-13-3"></a>        STR   R1,R6,#0
<a id="__codelineno-13-4" name="__codelineno-13-4"></a>        ADD   R6,R6,#-1
<a id="__codelineno-13-5" name="__codelineno-13-5"></a>        STR   R2,R6,#0
<a id="__codelineno-13-6" name="__codelineno-13-6"></a>        ADD   R6,R6,#-1
<a id="__codelineno-13-7" name="__codelineno-13-7"></a>        STR   R3,R6,#0
<a id="__codelineno-13-8" name="__codelineno-13-8"></a>;   
<a id="__codelineno-13-9" name="__codelineno-13-9"></a>        LDI   R1, PSR
<a id="__codelineno-13-10" name="__codelineno-13-10"></a>        LD    R2,INTMASK
<a id="__codelineno-13-11" name="__codelineno-13-11"></a>        AND   R2,R1,R2 
<a id="__codelineno-13-12" name="__codelineno-13-12"></a>;        
<a id="__codelineno-13-13" name="__codelineno-13-13"></a>POLL    STI   R1,PSR   ;enable interrupts
<a id="__codelineno-13-14" name="__codelineno-13-14"></a>        STI   R2,PSR   ;disable interrupts
<a id="__codelineno-13-15" name="__codelineno-13-15"></a>        LDI   R3,DSR
<a id="__codelineno-13-16" name="__codelineno-13-16"></a>        BRzp  POLL ; Poll the DSR
<a id="__codelineno-13-17" name="__codelineno-13-17"></a>        STI   R0, DDR; Store the character into the DDR 
<a id="__codelineno-13-18" name="__codelineno-13-18"></a>        STI   R1, PSR; Restore original PSR
<a id="__codelineno-13-19" name="__codelineno-13-19"></a>;
<a id="__codelineno-13-20" name="__codelineno-13-20"></a>        LDR   R3,R6,0
<a id="__codelineno-13-21" name="__codelineno-13-21"></a>        ADD   R6,R6,#1
<a id="__codelineno-13-22" name="__codelineno-13-22"></a>        LDR   R2,R6,0
<a id="__codelineno-13-23" name="__codelineno-13-23"></a>        ADD   R6,R6,#1
<a id="__codelineno-13-24" name="__codelineno-13-24"></a>        LDR   R1,R6,0
<a id="__codelineno-13-25" name="__codelineno-13-25"></a>        ADD   R6,R6,#1
<a id="__codelineno-13-26" name="__codelineno-13-26"></a>
<a id="__codelineno-13-27" name="__codelineno-13-27"></a>        RTI
<a id="__codelineno-13-28" name="__codelineno-13-28"></a>
<a id="__codelineno-13-29" name="__codelineno-13-29"></a>INTMASK .FILL xBFFF
<a id="__codelineno-13-30" name="__codelineno-13-30"></a>PSR     .FILL xFFFF ;PSR is memory mapped to xFFFC.
<a id="__codelineno-13-31" name="__codelineno-13-31"></a>DSR     .FILL xFE04
<a id="__codelineno-13-32" name="__codelineno-13-32"></a>DDR     .FILL xFE06
<a id="__codelineno-13-33" name="__codelineno-13-33"></a>        .END
</code></pre></div></td></tr></table></div>
<h2 id="chapter_10_a_calculator">Chapter 10 A Calculator<a class="headerlink" href="#chapter_10_a_calculator" title="Permanent link">&para;</a></h2>
<blockquote>
<p>Our example is a program that simulates the actions of a calculator that a per- son can use to add, subtract, and multiply 2’s complement integers. The person will enter numbers into the calculator-simulator by typing keys on the keyboard.</p>
</blockquote>
<ul>
<li>two points:</li>
<li>data conversion: ascii -&gt; 2&rsquo;s complement -&gt; ascii</li>
<li>arithmetic using a stack</li>
<li>Our simulation of a calculator, like most calculators, does not use general purpose registers. Instead it uses a stack. Source operands are popped from the stack, and the result of the operation is pushed back onto the stack.</li>
</ul>
<h3 id="101_data_type_conversion">10.1 Data Type Conversion<a class="headerlink" href="#101_data_type_conversion" title="Permanent link">&para;</a></h3>
<ul>
<li>It is important that every instruction be provided with source operands of the data type that the instruction requires.(操作数据必须要符合指令的要求)</li>
<li>For programming in some high-level language, the compiler generally does that conversion.F</li>
</ul>
<h4 id="1011_example_a_bogus_program_2_3_e">10.1.1 Example: A Bogus Program: 2 + 3 = e<a class="headerlink" href="#1011_example_a_bogus_program_2_3_e" title="Permanent link">&para;</a></h4>
<ul>
<li>不能直接把输入的数据相加，因为他们都是ascii码</li>
</ul>
<h4 id="1012_input_data_ascii_to_binary">10.1.2 Input Data (ASCII to Binary)<a class="headerlink" href="#1012_input_data_ascii_to_binary" title="Permanent link">&para;</a></h4>
<p><img alt="image-20230720130621559" src="ICS.assets/image-20230720130621559.png" /></p>
<ul>
<li><strong>R1</strong> (the number of decimal digits)</li>
<li><strong>ASCIIBUFF</strong> is the address of the first memory location of a sequence of four memory locations that we have allocated (a) to store the ASCII codes of decimal digits entered from the keyboard, and (b) to store the ASCII codes corresponding to the result of arithmetic operations in preparation for writing it (the result) to the monitor.</li>
<li>可以把十位和百位的值都存成一张表，根据转换后的digit值查表，LD相应的数字。</li>
<li><img alt="image-20230720130931728" src="ICS.assets/image-20230720130931728.png" /></li>
</ul>
<h4 id="1013_display_result_binary_to_ascii">10.1.3 Display Result (Binary to ASCII)<a class="headerlink" href="#1013_display_result_binary_to_ascii" title="Permanent link">&para;</a></h4>
<ol>
<li>检测是否为负数，若是负数则把负数flag标记，然后取补码转回正数</li>
<li>循环-100，直到改数为负数，记录<code>循环次数-1</code>为百位数，把数+100抵消最后一次</li>
<li>循环-10，同上</li>
<li>直接存入个位</li>
</ol>
<h3 id="102_arithmetic_using_a_stack">10.2 Arithmetic Using a Stack<a class="headerlink" href="#102_arithmetic_using_a_stack" title="Permanent link">&para;</a></h3>
<h4 id="1021_the_stack_as_temporary_storage">10.2.1 The Stack as Temporary Storage<a class="headerlink" href="#1021_the_stack_as_temporary_storage" title="Permanent link">&para;</a></h4>
<ul>
<li>LC-3 将计算后的数据存在寄存器里，是一个<strong>three-address machine</strong>。x86是一个<strong>two-address machine</strong>，因为只需要确认两个位置。还有些ISAs不使用GPRs来存操作数和结果，最常见的是<strong>stack machines</strong>因为他们用栈来临时存储数据。</li>
<li>Source operands are obtained by popping the top two elements from the stack. The result (i.e., the destination operand) is subsequently pushed onto the stack.</li>
<li>No addresses need to be specified explicitly. Therefore, stack machines are referred to as <strong>zero-address machines</strong>.</li>
<li>Note that the pop, push, and add are not part of the ISA of the computer, and therefore they are available to the programmer.</li>
</ul>
<h4 id="1022_an_example">10.2.2 An Example<a class="headerlink" href="#1022_an_example" title="Permanent link">&para;</a></h4>
<p><img alt="image-20230720135530941" src="ICS.assets/image-20230720135530941.png" /></p>
<h4 id="1023_opadd_opmult_and_opneg">10.2.3 OpAdd, OpMult, and OpNeg<a class="headerlink" href="#1023_opadd_opmult_and_opneg" title="Permanent link">&para;</a></h4>
<ol>
<li>OpAdd, which will pop two values from the stack, add them, and push the result onto the stack.</li>
<li>OpMult, which will pop two values from the stack, multiply them, and push the result onto the stack.</li>
<li>OpNeg, which will pop the top value, form its 2’s complement negative value, and push the result onto the stack. This will allow us to subtract two numbers A minus B by first forming −B and then adding the result to A.</li>
</ol>
<h5 id="the_opadd_subroutine"><strong>The OpAdd Subroutine</strong><a class="headerlink" href="#the_opadd_subroutine" title="Permanent link">&para;</a></h5>
<p>两种可能失败的情况</p>
<ul>
<li>Fewer than two values are available on the stack for source operands</li>
<li>
<p>The result is out of range</p>
</li>
<li>
<p><strong>TheADD</strong><img alt="image-20230720135921213" src="ICS.assets/image-20230720135921213.png" /></p>
</li>
<li>
<p>如果第一次pop失败了，那么什么也不用处理。如果第二次pop失败了，那么stack pointer会被decremented。如果结果有问题(调用RangeCheck子程序)，那么stack pointer会被decremented twice</p>
</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-14-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-14-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-14-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-14-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-14-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-14-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-14-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-14-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-14-10">10</a></span>
<span class="normal"><a href="#__codelineno-14-11">11</a></span>
<span class="normal"><a href="#__codelineno-14-12">12</a></span>
<span class="normal"><a href="#__codelineno-14-13">13</a></span>
<span class="normal"><a href="#__codelineno-14-14">14</a></span>
<span class="normal"><a href="#__codelineno-14-15">15</a></span>
<span class="normal"><a href="#__codelineno-14-16">16</a></span>
<span class="normal"><a href="#__codelineno-14-17">17</a></span>
<span class="normal"><a href="#__codelineno-14-18">18</a></span>
<span class="normal"><a href="#__codelineno-14-19">19</a></span>
<span class="normal"><a href="#__codelineno-14-20">20</a></span>
<span class="normal"><a href="#__codelineno-14-21">21</a></span>
<span class="normal"><a href="#__codelineno-14-22">22</a></span>
<span class="normal"><a href="#__codelineno-14-23">23</a></span>
<span class="normal"><a href="#__codelineno-14-24">24</a></span>
<span class="normal"><a href="#__codelineno-14-25">25</a></span>
<span class="normal"><a href="#__codelineno-14-26">26</a></span>
<span class="normal"><a href="#__codelineno-14-27">27</a></span>
<span class="normal"><a href="#__codelineno-14-28">28</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a>OpAdd           ST R0,OpAdd_Save0
<a id="__codelineno-14-2" name="__codelineno-14-2"></a>                ST R1,OpAdd_Save1
<a id="__codelineno-14-3" name="__codelineno-14-3"></a>                ST R5,OpAdd_Save5
<a id="__codelineno-14-4" name="__codelineno-14-4"></a>                ST R7 OpAdd_Save7
<a id="__codelineno-14-5" name="__codelineno-14-5"></a>                JSR POP ; Get first source operand.
<a id="__codelineno-14-6" name="__codelineno-14-6"></a>                ADD R5,R5,#0 ; Test if POP was successful.
<a id="__codelineno-14-7" name="__codelineno-14-7"></a>                BRp OpAdd_Exit ; Branch if not successful.
<a id="__codelineno-14-8" name="__codelineno-14-8"></a>                ADD R1,R0,#0 ; Make room for second operand.
<a id="__codelineno-14-9" name="__codelineno-14-9"></a>                JSR POP ; Get second source operand.
<a id="__codelineno-14-10" name="__codelineno-14-10"></a>                ADD R5,R5,#0 ; Test if POP was successful.
<a id="__codelineno-14-11" name="__codelineno-14-11"></a>                BRp OpAdd_Restore1 ; Not successful, put back first.
<a id="__codelineno-14-12" name="__codelineno-14-12"></a>                ADD R0,R0,R1 ; THE Add.
<a id="__codelineno-14-13" name="__codelineno-14-13"></a>                JSR RangeCheck ; Check size of result.
<a id="__codelineno-14-14" name="__codelineno-14-14"></a>                ADD R5,R5,#0 ; Check R5 for success/failure.
<a id="__codelineno-14-15" name="__codelineno-14-15"></a>                BRp OpAdd_Restore2 ; Out of range, restore both.
<a id="__codelineno-14-16" name="__codelineno-14-16"></a>                JSR PUSH ; Push sum on the stack.
<a id="__codelineno-14-17" name="__codelineno-14-17"></a>                BRnzp OpAdd_Exit
<a id="__codelineno-14-18" name="__codelineno-14-18"></a>OpAdd_Restore2  ADD R6,R6,#-1
<a id="__codelineno-14-19" name="__codelineno-14-19"></a>OpAdd_Restore1  ADD R6,R6,#-1
<a id="__codelineno-14-20" name="__codelineno-14-20"></a>OpAdd_Exit      LD  R0,OpAdd_Save0
<a id="__codelineno-14-21" name="__codelineno-14-21"></a>                LD  R1,OpAdd_Save1
<a id="__codelineno-14-22" name="__codelineno-14-22"></a>                LD  R5,OpAdd_Save5
<a id="__codelineno-14-23" name="__codelineno-14-23"></a>                LD  R7,OpAdd_Save7
<a id="__codelineno-14-24" name="__codelineno-14-24"></a>                RET
<a id="__codelineno-14-25" name="__codelineno-14-25"></a>OpAdd_Save0     .BLKW #1
<a id="__codelineno-14-26" name="__codelineno-14-26"></a>OpAdd_Save1     .BLKW #1
<a id="__codelineno-14-27" name="__codelineno-14-27"></a>OpAdd_Save5     .BLKW #1
<a id="__codelineno-14-28" name="__codelineno-14-28"></a>OpAdd_Save7     .BLKW #1        
</code></pre></div></td></tr></table></div>
<ul>
<li><strong>The RangeCheck</strong><img alt="image-20230720143028273" src="ICS.assets/image-20230720143028273.png" /></li>
</ul>
<h5 id="the_opmult_subroutine">The OpMult Subroutine<a class="headerlink" href="#the_opmult_subroutine" title="Permanent link">&para;</a></h5>
<p><img alt="image-20230720144926602" src="ICS.assets/image-20230720144926602.png" /></p>
<h5 id="the_opneg_subroutine"><strong>The OpNeg Subroutine</strong><a class="headerlink" href="#the_opneg_subroutine" title="Permanent link">&para;</a></h5>
<ol>
<li>replace the top element on the stack with its negative </li>
<li>use OpADD</li>
</ol>
<h3 id="103_the_calculator">10.3 The Calculator<a class="headerlink" href="#103_the_calculator" title="Permanent link">&para;</a></h3>
<h4 id="1031_functionality">10.3.1 Functionality<a class="headerlink" href="#1031_functionality" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>X</strong> Exit the simulation.</li>
<li><strong>D</strong> Display the value at the top of the stack.</li>
<li><strong>C</strong> Clear all values from the stack.</li>
<li>+ Pop the top two elements A,B off the stack and push A+B.</li>
<li>***** Pop the top two elements A,B off the stack and push A*B.</li>
<li>− Pop the top element A off the stack and push “minus” A.</li>
<li><strong>Enter</strong> or <strong>LF</strong> Push the value typed on the keyboard onto the top of the stack.</li>
</ul>
<p><img src="ICS.assets/image-20230720154801568.png" alt="image-20230720154801568" style="zoom:50%;" /></p>
<h2 id="chapter_19_dynamic_data_structures_in_c">Chapter 19 Dynamic Data Structures in C<a class="headerlink" href="#chapter_19_dynamic_data_structures_in_c" title="Permanent link">&para;</a></h2>
<h3 id="195_linked_lists">19.5 Linked Lists<a class="headerlink" href="#195_linked_lists" title="Permanent link">&para;</a></h3>
<blockquote>
<p>A <em>linked list</em> is a data structure that is similar to an array in that both can be used for data that is a sequential list of elements. </p>
<p>The elements need not be adjacent in memory</p>
<p>A linked list is a collection of elements, or <em>nodes</em>, where each node is one “unit” of data</p>
</blockquote>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 - 2099 Yule
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tracking", "navigation.tabs", "navigation.indexes", "toc.follow", "navigation.top", "header.autohide", "search.share", "search.suggest", "search.highlight", "header.autohide"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.cd18aaf1.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
    
  </body>
</html>